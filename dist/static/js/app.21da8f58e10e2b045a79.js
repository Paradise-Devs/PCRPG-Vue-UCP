webpackJsonp([1],{"+Gxq":function(e,t,s){"use strict";var a=s("fnDg").a;var r=s("VU/8")(a,null,!1,function(e){s("SU2O")},null,null);t.a=r.exports},"41pB":function(e,t){},"8qS0":function(e,t){},Dw1r:function(e,t){},"HUt/":function(e,t,s){"use strict";var a=s("qRo1").a;var r=s("VU/8")(a,null,!1,function(e){s("uuFh")},null,null);t.a=r.exports},HVox:function(e,t){},JC4x:function(e,t){},JCpY:function(e,t,s){"use strict";var a=s("rKsW").a;var r=s("VU/8")(a,null,!1,function(e){s("U0ZT")},null,null);t.a=r.exports},JDVb:function(e,t,s){"use strict";var a=s("9NuQ").a;var r=s("VU/8")(a,null,!1,function(e){s("fmdS")},null,null);t.a=r.exports},Jmt5:function(e,t){},Ke9K:function(e,t){},Keo0:function(e,t){},LbTc:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),r=(s("Jmt5"),s("oPmM"),s("//Fk")),n=s.n(r),i=s("NYxO");a.default.use(i.a);var o=new i.a.Store({state:{user:{},masterToken:"jYtEGxXc66LzfnCHflISprQQRzZAU5ZODT63PAUx; "},actions:{setData:function(e,t){(0,e.commit)("SET_USER_DATA",t)},login:function(e,t){var s=e.commit;return new n.a(function(e){setTimeout(function(){s("SET_USER_DATA",t),s("LOGIN"),e()},1e3)})},logout:function(e){(0,e.commit)("LOGOUT")}},mutations:{LOGIN:function(e){localStorage.setItem("token",e.user.token)},LOGOUT:function(e){e.user={},e.user.token=null,localStorage.removeItem("token")},SET_USER_DATA:function(e,t){e.user=t,localStorage.setItem("token",e.user.token)}},getters:{isLoggedIn:function(e){return null!=e.user.token},getToken:function(e){return e.user.token},getUserData:function(e){return e.user},getUserID:function(e){return e.user._id},getMasterToken:function(e){return e.masterToken}}}),l={name:"MoonLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"60px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{height:this.size,width:this.size,borderRadius:this.radius}}},computed:{moonSize:function(){return parseFloat(this.size)/7},spinnerMoonStyle:function(){return{height:this.moonSize+"px",width:this.moonSize+"px",borderRadius:this.radius}},animationStyle2:function(){return{top:parseFloat(this.size)/2-this.moonSize/2+"px",backgroundColor:this.color}},animationStyle3:function(){return{border:this.moonSize+"px solid "+this.color}}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[t("div",{staticClass:"v-moon v-moon1",style:this.spinnerStyle},[t("div",{staticClass:"v-moon v-moon2",style:[this.spinnerMoonStyle,this.animationStyle2]}),t("div",{staticClass:"v-moon v-moon3",style:[this.spinnerStyle,this.animationStyle3]})])])},staticRenderFns:[]};var u,d=s("VU/8")(l,c,!1,function(e){s("Dw1r")},null,null).exports,m=s("mtWM"),v=s.n(m);u="pc-rpg.com.br"!=location.hostname&&"www.pc-rpg.com.br"!=location.hostname?"http://dev.pc-rpg.com.br:3000/api/v1/":"https://prod.pc-rpg.com.br/api/v1/";var _="4vvhw6rrkchEfUgnJLyGRc995ZVvB86PxxzYknUT",p=function(){return v.a.get(u+"players")},h=function(e){return v.a.get(u+"players/"+e+"/characters")},g=function(e){return v.a.get(u+"players/"+e)},f=function(){return v.a.get(u+"statistics")},b=function(e,t){return v.a.patch(u+"players/"+e,{masterkey:_,email:t})},C=function(e,t){return v.a.patch(u+"players/"+e,{masterkey:_,password:t})},w=function(e,t){return v.a.patch(u+"players/"+e,{masterkey:_,username:t})},k=function(e){return v.a.post(u+"token",{token:e})},y=function(e,t){return v.a.post(u+"login",{username:e,password:t})},x=function(e,t,s){return v.a.post(u+"register",{username:e,password:t,email:s})},U="https://forum.pc-rpg.com.br/api/",S={Authorization:"Token jYtEGxXc66LzfnCHflISprQQRzZAU5ZODT63PAUx; userId=1"},P=function(){return v.a.get(U+"discussions?filter[q]=tag:novidades,patchnotes,devlog&sort=-startTime")},E=function(){return v.a.get(U+"discussions?filter[q]=tag:patchnotes&sort=-startTime")},A=function(){return v.a.get(U+"discussions?sort=-startTime")},j=function(e){return v.a.get(U+"users/"+e,{headers:S})},L=function(){return v.a.get(U+"users",{headers:S})},N=function(){return v.a.get(U+"tags")},F=function(e){return v.a.get(U+"posts?filter[user]="+e+"&sort=-time")},M=function(e){return v.a.get(U+"discussions/"+e)},I=function(e,t){return v.a.patch(U+"users/"+e,{data:t},{headers:S})},D=function(e,t){return v.a.patch(U+"users/"+e+"/avatar",t,{headers:S})},$=function(e,t){return v.a.post(U+"token",{identification:e,password:t})},z=function(e){return v.a.post(U+"users",{data:e},{headers:S})},T=(s("1P+R"),{name:"BeatLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,height:this.size,width:this.size,margin:this.margin,borderRadius:this.radius}}}}),R={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[t("div",{staticClass:"v-beat v-beat-odd",style:this.spinnerStyle}),t("div",{staticClass:"v-beat v-beat-even",style:this.spinnerStyle}),t("div",{staticClass:"v-beat v-beat-odd",style:this.spinnerStyle})])},staticRenderFns:[]};var V=s("VU/8")(T,R,!1,function(e){s("xEse")},null,null).exports,q={data:function(){return{user:{username:"",password:"",email:"",token:null,forumAtt:[]},errorUsername:null,errorEmail:null,loading:!1,usernameChecking:!1,emailChecking:!1}},components:{moonloader:d,beatloader:V,signin:Z,store:o},methods:{hideModal:function(){this.$refs.signup.hide()},modalShowed:function(){this.$refs.usernameField.focus()},checkIfUserExists:function(){if(this.user.username.length>=5){var e=this;e.usernameChecking=!0,g(this.user.username).then(function(t){t.data?(e.errorUsername="Este nome de usuário já está em uso",e.usernameChecking=!1):(e.errorUsername=null,e.usernameChecking=!1)})}else this.errorUsername=null},checkIfEmailExists:function(){if(this.user.email.length>=3){var e=this;e.emailChecking=!0,p().then(function(t){for(var s=0;s<t.data.length;s++)t.data[s].email==e.user.email?(e.errorEmail="Este e-mail já está em uso",e.emailChecking=!1):(e.errorEmail=null,e.emailChecking=!1)})}else this.errorEmail=null},register:function(){this.loading=!0,this.checkIfUserExists(),this.checkIfEmailExists();var e=this.user.username,t=this.user.password,s=this.user.email;if(null===this.errorEmail&&null===this.errorUsername){var a=this;x(e,t,s).then(function(r){a.registerUserForumAccount(e,t,s)}).catch(function(e){console.log(e)})}},registerUserForumAccount:function(e,t,s){var a=this;z({attributes:{username:e,password:t,email:s,isActivated:!0}}).then(function(s){a.user.forumAtt=s.data.data,a.login(e,t)}).catch(function(e){console.log(error),a.loading=!1})},login:function(e,t){this.loading=!0;var s=this;y(e,t).then(function(a){s.user.token=a.data.token,s.saveUserData(e,t)}).catch(function(e){s.error=response.data.error.message,console.log(response.data.error),s.loading=!1})},saveUserData:function(e,t){var s=this,a=this;$(e,t).then(function(e){a.user.forumToken=e.data.token,o.dispatch("login",s.user).then(function(){a.loading=!1,localStorage.setItem("firstTimeUCP","true"),s.$router.push(s.$route.query.redirect||"/ucp"),a.hideModal()})}).catch(function(e){console.log(e),a.loading=!1})}}},O={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"signup",attrs:{id:"signupModal",title:"Cadastre-se","hide-header-close":"","hide-footer":""},on:{shown:e.modalShowed}},[e.errorUsername&&!e.errorEmail?s("div",{ref:"errorAlert",staticClass:"modal-alert"},[s("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorUsername))])],1):e._e(),e._v(" "),e.errorEmail&&!e.errorUsername?s("div",{ref:"errorAlert",staticClass:"modal-alert"},[s("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorEmail))])],1):e._e(),e._v(" "),e.errorEmail&&e.errorUsername?s("div",{ref:"errorAlert",staticClass:"modal-alert"},[s("b-alert",{attrs:{variant:"danger",show:""}},[e._v("Este usuário e este email já estão em uso.")])],1):e._e(),e._v(" "),s("button",{staticClass:"modal-close",on:{click:e.hideModal}},[s("icon",{attrs:{icon:["fas","times"]}})],1),e._v(" "),s("form",{staticClass:"form--auth",on:{submit:function(t){t.preventDefault(),e.register()}}},[s("b-form-group",{attrs:{state:null}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,regex:/^[a-zA-Z0-9]+([_-]?[a-zA-Z0-9])*$/,min:5,max:15},expression:"{ required: true, regex: /^[a-zA-Z0-9]+([_-]?[a-zA-Z0-9])*$/ , min: 5, max: 15 }"}],ref:"usernameField",class:{"is-invalid":e.errors.has("username")||e.errorUsername,"is-valid":!e.errors.has("username")&&0!=e.user.username.length},attrs:{type:"text",placeholder:"Nome de usuário",name:"username",state:null,autocomplete:"on",disabled:e.usernameChecking},on:{change:e.checkIfUserExists},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),s("beatloader",{staticClass:"registering",attrs:{loading:e.usernameChecking,color:"#303846",size:"5px"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("username"),expression:"errors.has('username')"}],staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("username")))])],1),e._v(" "),s("b-form-group",{attrs:{state:null}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],class:{"is-invalid":e.errors.has("email")||e.errorEmail,"is-valid":!e.errors.has("email")&&0!=e.user.email.length},attrs:{type:"email",placeholder:"Email",name:"email",state:null,autocomplete:"on",disabled:e.emailChecking},on:{change:e.checkIfEmailExists},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),e._v(" "),s("beatloader",{staticClass:"registering",attrs:{loading:e.emailChecking,color:"#303846",size:"5px"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("email")))])],1),e._v(" "),s("b-form-group",{attrs:{state:null}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:8},expression:"{ required: true, min: 8 }"}],class:{"is-invalid":e.errors.has("password"),"is-valid":!e.errors.has("password")&&0!=e.user.password.length},attrs:{type:"password",placeholder:"Senha",name:"password",state:null,autocomplete:"on"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.submit(t):null}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("password")))])],1),e._v(" "),s("b-form-group",[s("b-button",{staticClass:"loginButton",attrs:{type:"submit",variant:"primary",disabled:e.loading||null!=e.errorUsername||null!=e.errorUsername||e.errors.has("password")||e.errors.has("email")||e.errors.has("username")||0===e.user.password.length||0===e.user.email.length||0===e.user.username.length||e.emailChecking||e.usernameChecking,block:""}},[e._v("\n\t\t\t\tCadastre-se "),s("moonloader",{staticClass:"registering",attrs:{loading:e.loading,color:"#303846",size:"30px"}})],1)],1)],1),e._v(" "),s("div",{staticClass:"modal-footer"},[s("p",[e._v("Já tem uma conta? "),s("a",{directives:[{name:"b-modal",rawName:"v-b-modal.signinModal",modifiers:{signinModal:!0}}],attrs:{href:"#"}},[e._v("Entre")])])])])},staticRenderFns:[]},B=s("VU/8")(q,O,!1,null,null,null).exports,H={data:function(){return{context:"login context",user:{username:"",forumAtt:{},groups:{}},token:null,fieldPassword:"",error:null,loading:!1}},components:{"vue-spinner":d,signup:B,store:o},methods:{hideModal:function(){this.$refs.signin.hide()},focusLogin:function(){this.$refs.usernameField.focus()},login:function(){this.loading=!0;var e=this;y(this.user.username,this.fieldPassword).then(function(t){e.token=t.data.token,e.getUserData()}).catch(function(t){e.error=t.response.data.error.message,e.loading=!1})},hideError:function(){this.error&&(this.error=null)},getUserData:function(){var e=this;k(this.token).then(function(t){e.user=t.data,e.user.token=t.headers["token-refresh"],e.authUser()}).catch(function(t){console.log(t),e.loading=!1})},authUser:function(){var e=this,t=this;j(this.user.username).then(function(t){e.user.forumAtt=t.data.data;var s=[];for(var a in t.data.included)"groups"==t.data.included[a].type&&s.push(t.data.included[a].attributes);e.user.groups=s,e.dispatchLogin()}).catch(function(e){console.log(e),t.loading=!1})},dispatchLogin:function(){var e=this;o.dispatch("login",this.user).then(function(){e.loading=!1;var t=localStorage.getItem("firstTimeUCP");null==t?(localStorage.setItem("firstTimeUCP","true"),e.$router.push(e.$route.query.redirect||"/ucp")):t&&e.$router.push(e.$route.query.redirect||"/ucp")})}}},W={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"signin",attrs:{id:"signinModal",title:"Entrar","hide-header-close":"","hide-footer":""},on:{shown:e.focusLogin}},[e.error?s("div",{ref:"errorAlert",staticClass:"modal-alert"},[s("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.error))])],1):e._e(),e._v(" "),s("button",{staticClass:"modal-close",on:{click:e.hideModal}},[s("icon",{attrs:{icon:["fas","times"]}})],1),e._v(" "),s("form",{staticClass:"form--auth",on:{submit:function(t){t.preventDefault(),e.login()},keyup:function(t){e.hideError()}}},[s("b-form-group",[s("b-form-input",{ref:"usernameField",class:{"is-invalid":e.error},attrs:{type:"text",required:"",placeholder:"Nome de usuário ou Email",autocomplete:"on"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),s("b-form-group",[s("b-form-input",{class:{"is-invalid":e.error},attrs:{type:"password",required:"",placeholder:"Senha",autocomplete:"on"},model:{value:e.fieldPassword,callback:function(t){e.fieldPassword=t},expression:"fieldPassword"}})],1),e._v(" "),s("b-form-group",[s("b-button",{staticClass:"loginButton",attrs:{type:"submit",variant:"primary",disabled:e.loading,block:""}},[e._v("\n\t\t\t\tEntrar "),s("vue-spinner",{attrs:{loading:e.loading,color:"#303846",size:"30px"}})],1)],1)],1),e._v(" "),s("div",{staticClass:"modal-footer"},[s("p",[s("a",{attrs:{href:"#"}},[e._v("Esqueceu sua senha?")])]),e._v(" "),s("p",[e._v("Não tem uma conta? "),s("a",{directives:[{name:"b-modal",rawName:"v-b-modal.signupModal",modifiers:{signupModal:!0}}],attrs:{href:"#"}},[e._v("Cadastre-se")])])])])},staticRenderFns:[]};var G,Z=s("VU/8")(H,W,!1,function(e){s("Keo0")},"data-v-adff1678",null).exports,J=s("PJh5"),X=s.n(J),K=s("162o"),Y={props:{msg:Object},data:function(){return{sender:{avatar:null,username:null}}},filters:{moment:function(e){return X()(e).fromNow()}},methods:{openMessage:function(e){this.$router.push(this.$route.query.redirect||"/");var t=this;Object(K.setTimeout)(function(){t.$router.push(t.$route.query.redirect||"/ucp/mensagens/ver/"+e._id)}),this.$root.$emit("refreshNotReadedMessages")}},mounted:function(){var e=this;j(this.msg.sender.username).then(function(t){e.sender.username=t.data.data.attributes.username,e.sender.avatar=t.data.data.attributes.avatarUrl})}},Q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dropdown-item notification__message",on:{click:function(t){e.openMessage(e.msg)}}},[s("div",{staticClass:"header"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:e.sender.avatar}})]),e._v(" "),s("div",{staticClass:"content"},[s("h5",{staticClass:"title"},[e._v(e._s(e.msg.subject))]),e._v(" "),s("span",{staticClass:"info"},[e._v("Enviado por "),s("b",[e._v(e._s(e.sender.username))]),e._v(" "+e._s(e._f("moment")(e.msg.sendDate))+" atrás.")])])]),e._v(" "),s("div",{staticClass:"body"},[s("p",{staticClass:"text"},[e._v(e._s(e.msg.body))])])])},staticRenderFns:[]},ee=s("VU/8")(Y,Q,!1,null,null,null).exports,te=(s("+Uzz"),{props:{username:{type:String,default:null},url:{type:String,default:null},size:{type:String,default:"80px"},mobSize:{type:String,default:"36px"},editable:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1}},data:function(){return{user:[],localUser:o.state.user,userForumId:null,processingStep:0,processingPerc:0,processingTweenedPerc:0,processingMax:100,processingSuccess:!1,processingError:!1,width:null,height:null}},watch:{processingPerc:function(e){TweenLite.to(this.$data,.5,{processingTweenedPerc:e})}},computed:{animatedProcessingValue:function(){return this.processingTweenedPerc.toFixed()},autoStyle:function(){return window.innerWidth<768?"width: "+this.mobSize+"; height: "+this.mobSize:"width: "+this.size+"; height: "+this.size}},methods:{onFileChanged:function(e){this.url=URL.createObjectURL(e.target.files[0]),this.uploadAvatar(e.target.files[0])},uploadAvatar:function(e){var t=this;this.processingStep=1;var s=new FormData;s.append("avatar",e,e.name);var a=0;v.a.post("https://forum.pc-rpg.com.br/api/users/"+this.userForumId+"/avatar",s,{headers:{Authorization:"Token "+o.getters.getMasterToken+"userId="+this.userForumId},onUploadProgress:function(e){a=e.loaded/e.total*100,t.processingStep=2,t.processingPerc=a,100==a.toFixed()&&(t.processingStep=3,t.processingSuccess=!0)}}).then(function(e){t.url=e.data.data.attributes.avatarUrl,t.processingStep=4,t.processingSuccess=!0,t.username.toLowerCase()===t.localUser.username&&(t.localUser.forumAtt.attributes.avatarUrl=e.data.data.attributes.avatarUrl,o.dispatch("setData",t.localUser).then(function(){location.reload()}))}).catch(function(e){t.processingStep=5,console.log(e)})}},mounted:function(){var e=this;this.username.toLowerCase()===this.localUser.username?this.userForumId=this.localUser.forumAtt.id:j(this.username).then(function(t){e.userForumId=t.data.data.id})}}),se={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comp__userAvatar",class:{"comp__userAvatar--editable":e.editable},style:e.autoStyle},[e.clickable?s("router-link",{staticClass:"router-link",attrs:{to:"/jogador/"+e.username}},[null!=e.url?s("img",{attrs:{src:e.url}}):s("div",{staticClass:"comp__userAvatar--empty"},[e._v(" ? ")]),e._v(" "),e.editable&&0==e.processingStep?s("div",{staticClass:"comp__userAvatar__uploader"},[s("label",{staticClass:"button",attrs:{for:"newAvatarField"}},[s("icon",{attrs:{icon:["fas","upload"]}})],1),e._v(" "),s("input",{attrs:{id:"newAvatarField",type:"file",accept:"image/jpeg, image/png"},on:{change:e.onFileChanged}})]):e._e()]):s("div",[null!=e.url?s("img",{attrs:{src:e.url}}):s("div",{staticClass:"comp__userAvatar--empty"},[e._v(" ? ")]),e._v(" "),e.editable&&0==e.processingStep?s("div",{staticClass:"comp__userAvatar__uploader"},[s("label",{staticClass:"button",attrs:{for:"newAvatarField"}},[s("icon",{attrs:{icon:["fas","upload"]}})],1),e._v(" "),s("input",{attrs:{id:"newAvatarField",type:"file",accept:"image/jpeg, image/png"},on:{change:e.onFileChanged}})]):e._e()]),e._v(" "),2!=e.processingStep&&e.processingStep>0&&e.editable?s("span",{staticClass:"comp__userAvatar__uploader__status",class:{"comp__userAvatar__uploader__status--success":e.processingSuccess,"comp__userAvatar__uploader__status--error":e.processingError}},[1==e.processingStep?s("span",[e._v("Iniciando...")]):e._e(),e._v(" "),3==e.processingStep?s("span",[e._v("Finalizando...")]):e._e(),e._v(" "),4==e.processingStep?s("span",[e._v("Atualizando...")]):e._e(),e._v(" "),5==e.processingStep?s("span",[e._v("Erro!")]):e._e()]):2==e.processingStep?s("b-progress",{staticClass:"comp__userAvatar__uploader__status",attrs:{max:e.processingMax}},[s("b-progress-bar",{attrs:{value:e.processingPerc}},[e._v("\n           "+e._s(e.animatedProcessingValue)+"%\n        ")])],1):e._e()],1)},staticRenderFns:[]},ae=s("VU/8")(te,se,!1,null,null,null).exports;G="pc-rpg.com.br"!=location.hostname&&"www.pc-rpg.com.br"!=location.hostname?"http://dev.pc-rpg.com.br:3000/api/v1/messages/":"https://prod.pc-rpg.com.br/api/v1/messages/";var re={Authorization:"Bearer "+localStorage.getItem("token")},ne=function(e,t,s,a){var r=(new Date).toISOString();return v.a.post(G+"send",{from:e,to:t,subject:s,body:a,sendDate:r},{headers:re})},ie=function(e,t,s,a,r){var n=(new Date).toISOString();return v.a.post(G+"send",{from:e,to:t,subject:s,body:a,sendDate:n,reply:r},{headers:re})},oe=function(e){return v.a.get(G+e,{headers:re})},le=function(e){return v.a.get(G+"to/"+e,{headers:re})},ce=function(e){return v.a.get(G+"from/"+e,{headers:re})},ue=function(e){return v.a.get(G+"trash/"+e,{headers:re})},de=function(e){return v.a.post(G+"markAsRead",{messageId:e},{headers:re})},me=function(e){return v.a.post(G+"delete",{messages:e},{headers:re})},ve={data:function(){return{user:o.state.user,groups:[],messagesNotReaded:[],userLoggedIn:null,scrolled:!1,value:500,maxValue:5e3,navOpened:!1}},computed:{sortedMessages:function(){return this.messagesNotReaded.sort(function(e,t){return new Date(t.sendDate).getTime()-new Date(e.sendDate).getTime()})}},methods:{handleScroll:function(){var e=window.scrollY,t=document.getElementById("navbar");e>10?(t.classList.add("navbar--scrolled"),this.scrolled=!0):(t.classList.remove("navbar--scrolled"),this.scrolled=!1)},logout:function(){var e=this;o.dispatch("logout").then(function(){e.user=o.state.user,e.$router.push(e.$route.query.redirect||"/"),e.userLoggedIn=!1,document.getElementById("navOverlay").style.display="none",window.innerWidth<768&&e.closeMobNav()})},openMobNav:function(){var e=document.getElementById("navbar"),t=document.getElementById("toggleMobNav"),s=document.getElementById("openNav"),a=document.getElementById("closeNav"),r=document.getElementById("navOverlay"),n=document.getElementById("navMenu"),i=document.getElementsByTagName("body")[0];Object(K.setTimeout)(function(){r.style.display=""},100),Object(K.setTimeout)(function(){r.classList.add("navbar__overlay--opened")},200),e.classList.add("navbar__mobile--opened"),e.classList.remove("navbar__mobile--closed"),a.classList.remove("navbar__menu__icon--hidden"),s.classList.add("navbar__menu__icon--hidden"),t.classList.remove("nav__menu--mobile--closed"),t.classList.add("nav__menu--mobile--opened"),n.classList.remove("nav__mobile__menu--closed"),n.classList.add("nav__mobile__menu--opened"),i.classList.add("locked"),this.fadeIn(a),this.navOpened=!0},closeMobNav:function(){var e=document.getElementById("toggleMobNav"),t=document.getElementById("openNav"),s=document.getElementById("closeNav"),a=document.getElementById("navOverlay"),r=document.getElementsByTagName("body")[0];Object(K.setTimeout)(function(){a.classList.remove("navbar__overlay--opened")},100),Object(K.setTimeout)(function(){a.style.display="none"},600),s.classList.add("navbar__menu__icon--hidden"),t.classList.remove("navbar__menu__icon--hidden"),e.classList.remove("nav__menu--mobile--opened"),e.classList.add("nav__menu--mobile--closed"),navMenu.classList.remove("nav__mobile__menu--opened"),navMenu.classList.add("nav__mobile__menu--closed"),r.classList.remove("locked"),this.fadeIn(t),this.navOpened=!1},fadeIn:function(e){e.style.opacity=0;var t=+new Date;!function s(){e.style.opacity=+e.style.opacity+(new Date-t)/400,t=+new Date,+e.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||Object(K.setTimeout)(s,16))}()},getUserUnreadedMessages:function(){var e=this,t=this.messagesNotReaded.length;le(this.user.username).then(function(s){if(t!=s.data.length){for(var a in e.messagesNotReaded=[],s.data)s.data[a].isRead||e.messagesNotReaded.push(s.data[a]);if(e.messagesNotReaded.length>0&&t<s.data.length){var r=e.messagesNotReaded.slice(-1).pop(),n=localStorage.getItem("lastestNotification");n!=r._id&&null!=n&&(e.$notify({group:"main",title:"Você recebeu uma nova mensagem!",text:"<b>"+r.sender.username+"</b> te enviou uma mensagem.",type:"info",duration:8e3}),e.$root.$emit("reloadInbox")),localStorage.setItem("lastestNotification",r._id)}}})}},watch:{$route:function(e,t){this.getUserUnreadedMessages();for(var s=document.getElementsByClassName("show"),a=0;a<s.length;a++)s[a].classList.remove("show");window.innerWidth<768&&this.navOpened&&this.closeMobNav()},user:{handler:function(e,t){null==this.user.token?this.userLoggedIn=!1:this.userLoggedIn=!0},deep:!0}},mounted:function(){var e=this;document.getElementById("navOverlay").style.display="none",this.$root.$on("initNavLoading",function(){e.isFixed=!1,e.isShow="none"}),document.getElementById("closeNav").classList.add("navbar__menu__icon--hidden"),null==this.user.token?this.userLoggedIn=!1:this.userLoggedIn=!0,this.$root.$on("logout",function(){var e=this;o.dispatch("logout").then(function(){t.user=o.state.user,t.$router.push(e.$route.query.redirect||"/"),t.userLoggedIn=!1,document.getElementById("navOverlay").style.display="none",window.innerWidth<768&&t.closeMobNav()})}),this.userLoggedIn&&Object(K.setInterval)(function(){t.getUserUnreadedMessages()},5e3);var t=this;this.$root.$on("refreshNotReadedMessages",function(){t.getUserUnreadedMessages()})},created:function(){var e=this;window.addEventListener("scroll",this.handleScroll),o.watch(function(e){return o.getters.getUserData},function(t,s){e.user=o.state.user})},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},components:{signin:Z,signup:B,store:o,msgNotification:ee,userAvatar:ae}};a.default.component("separator",{template:'<div class="navbar__separator"></div>'}),a.default.component("spacefix",{template:'<div class="navbar__clearfix"></div>'}),a.default.component("overlay",{template:'<div class="navbar__overlay" id="navOverlay"></div>'});var _e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav"},[a("animated-fade-in",[a("nav",{staticClass:"navbar",attrs:{id:"navbar"}},[a("b-container",[a("b-row",[a("b-col",[a("router-link",{staticClass:"navbar__logo",attrs:{to:"/"}},[a("img",{attrs:{src:s("y17n"),alt:"PC:RPG"}})])],1),e._v(" "),a("b-col",{staticClass:"navbar__menu navbar__menu--desk",attrs:{md:"8"}},[a("router-link",{attrs:{to:"/"}},[e._v("Início")]),e._v(" "),a("router-link",{attrs:{to:"/dev"}},[e._v("Desenvolvimento")]),e._v(" "),a("a",{attrs:{href:"https://forum.pc-rpg.com.br"}},[e._v("Fórum")]),e._v(" "),a("separator"),e._v(" "),e.userLoggedIn?a("div",{staticClass:"navbar__menu__user"},[a("b-dropdown",{staticClass:"messages__dropdown",attrs:{"no-caret":"",right:""},on:{click:e.getUserUnreadedMessages}},[a("template",{slot:"button-content"},[a("icon",{class:{active:e.messagesNotReaded.length>0},attrs:{icon:["fas","comment-alt"]}}),e._v(" "),e.messagesNotReaded.length>0?a("span",{staticClass:"number"},[e._v(e._s(e.messagesNotReaded.length))]):e._e()],1),e._v(" "),e._l(e.sortedMessages,function(e){return a("msg-notification",{key:e._id,attrs:{msg:e}})}),e._v(" "),0==e.messagesNotReaded.length?a("div",{staticClass:"dropdown-item empty"},[e._v("\n\t\t\t\t\t\t\t\t\t\tNão há mensagens não lidas\n\t\t\t\t\t\t\t\t\t")]):e._e(),e._v(" "),a("b-dropdown-item",{staticClass:"all",attrs:{to:"/ucp/mensagens",exact:""}},[e._v("Ver todas as mensagens...")])],2),e._v(" "),a("b-dropdown",{staticClass:"profile",attrs:{"no-caret":"",right:""}},[a("template",{slot:"button-content"},[a("userAvatar",{staticClass:"avatar",attrs:{url:e.user.forumAtt.attributes.avatarUrl,username:e.user.username,size:"24px"}}),e._v(" "),a("span",{staticClass:"Button-label"},[e._v(e._s(e.user.forumAtt.attributes.username))])],1),e._v(" "),a("b-dropdown-item",{attrs:{to:"/ucp",exact:""}},[a("icon",{attrs:{icon:["fas","wrench"]}}),e._v("Painel do usuário")],1),e._v(" "),a("b-dropdown-item",{attrs:{to:"/jogador/"+e.user.username,exact:""}},[a("icon",{attrs:{icon:["fas","address-card"]}}),e._v(" Perfil")],1),e._v(" "),a("b-dropdown-item",{attrs:{to:"/ucp/configuracoes",exact:""}},[a("icon",{attrs:{icon:["fas","cog"]}}),e._v(" Configurações")],1),e._v(" "),a("b-dropdown-divider"),e._v(" "),a("b-dropdown-item",{on:{click:e.logout}},[a("icon",{attrs:{icon:["fas","sign-out-alt"]}}),e._v(" Sair")],1)],2)],1):a("div",[a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.signupModal",modifiers:{signupModal:!0}}],attrs:{href:"#"}},[e._v("Cadastre-se")]),e._v(" "),a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.signinModal",modifiers:{signinModal:!0}}],attrs:{href:"#"}},[e._v("Entrar")])])],1)],1)],1)],1)]),e._v(" "),a("spacefix"),e._v(" "),e.userLoggedIn?e._e():a("signin"),e._v(" "),e.userLoggedIn?e._e():a("signup"),e._v(" "),a("overlay"),e._v(" "),a("div",{staticClass:"nav__menu--mobile nav__menu--mobile--closed",attrs:{id:"toggleMobNav"}},[a("b-dropdown",{staticClass:"messages__dropdown",attrs:{"no-caret":"",right:""},on:{click:e.getUserUnreadedMessages}},[a("template",{slot:"button-content"},[a("icon",{class:{active:e.messagesNotReaded.length>0},attrs:{icon:["fas","comment-alt"]}}),e._v(" "),e.messagesNotReaded.length>0?a("span",{staticClass:"number"},[e._v(e._s(e.messagesNotReaded.length))]):e._e()],1),e._v(" "),e._l(e.sortedMessages,function(e){return a("msg-notification",{key:e._id,attrs:{msg:e}})}),e._v(" "),0==e.messagesNotReaded.length?a("div",{staticClass:"dropdown-item empty"},[e._v("\n\t\t\t\t\tNão há mensagens não lidas\n\t\t\t\t")]):e._e(),e._v(" "),a("b-dropdown-item",{staticClass:"all",attrs:{to:"/ucp/mensagens",exact:""}},[e._v("Ver todas as mensagens...")])],2),e._v(" "),a("div",{staticClass:"navbar__menu__button"},[a("icon",{staticClass:"navbar__menu__icon navbar__menu__icon--open",attrs:{icon:["fas","bars"],id:"openNav"},on:{click:e.openMobNav}}),e._v(" "),a("icon",{staticClass:"navbar__menu__icon navbar__menu__icon--hidden navbar__menu__icon--close",attrs:{icon:["fas","times"],id:"closeNav"},on:{click:function(t){e.closeMobNav()}}})],1)],1),e._v(" "),a("div",{staticClass:"nav__mobile__menu",attrs:{id:"navMenu"}},[e.userLoggedIn?a("div",{staticClass:"nav__mobile__menu__user"},[a("div",{staticClass:"nav__mobile__menu__user__info__avatar"},[a("userAvatar",{attrs:{url:e.user.forumAtt.attributes.avatarUrl,username:e.user.username,size:"80px",clickable:""}})],1),e._v(" "),a("div",{staticClass:"nav__mobile__menu__user__info__name"},[e._v("\n\t\t\t\t\tOlá, "+e._s(e.user.forumAtt.attributes.username)+"!\n\t\t\t\t")]),e._v(" "),a("div",{staticClass:"nav__mobile__menu__user__info__tags"},e._l(e.user.groups,function(t){return a("b-badge",{key:t.id,style:{borderColor:t.color}},[a("span",{staticClass:"icon",style:{backgroundColor:t.color}},[a("icon",{attrs:{icon:["fas",t.icon]}})],1),e._v(" "),a("span",{style:{color:t.color}},[e._v(e._s(t.nameSingular))])])}))]):a("div",{staticClass:"nav__mobile__menu__signin"},[a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.signupModal",modifiers:{signupModal:!0}}],attrs:{href:"#"},on:{click:e.closeMobNav}},[e._v("Cadastre-se")]),e._v(" "),a("span",[e._v("ou")]),e._v(" "),a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.signinModal",modifiers:{signinModal:!0}}],attrs:{href:"#"},on:{click:e.closeMobNav}},[e._v("Entre")])]),e._v(" "),a("div",{staticClass:"nav__mobile__menu__links"},[a("h6",{staticClass:"separator separator--general"},[e._v("Navegação geral")]),e._v(" "),a("router-link",{attrs:{to:"/"},on:{click:e.closeMobNav}},[a("icon",{attrs:{icon:["fas","home"]}}),e._v("Início")],1),e._v(" "),a("router-link",{attrs:{to:"/dev"}},[a("icon",{attrs:{icon:["fas","code"]}}),e._v("Desenvolvimento")],1),e._v(" "),a("a",{attrs:{href:"https://forum.pc-rpg.com.br"}},[a("icon",{attrs:{icon:["fas","comments"]}}),e._v("Fórum")],1),e._v(" "),e.userLoggedIn?a("div",{staticClass:"nav__mobile__menu__links__user"},[a("h6",{staticClass:"separator"},[e._v("Sua conta")]),e._v(" "),a("router-link",{attrs:{to:"/ucp",exact:""},on:{click:e.closeMobNav}},[a("icon",{attrs:{icon:["fas","wrench"]}}),e._v("Painel do usuário")],1),e._v(" "),a("router-link",{attrs:{to:"/ucp/perfil",exact:""},on:{click:e.closeMobNav}},[a("icon",{attrs:{icon:["fas","address-card"]}}),e._v("Seu perfil")],1),e._v(" "),a("router-link",{class:{unreaded:e.messagesNotReaded.length>0},attrs:{to:"/ucp/mensagens",exact:""},on:{click:e.closeMobNav}},[a("icon",{attrs:{icon:["fas","comment-alt"]}}),e._v("\n\t\t\t\t\t\tMensagens\n\t\t\t\t\t\t"),a("b-badge",{class:{unreaded:e.messagesNotReaded.length>0}},[e._v(e._s(e.messagesNotReaded.length))])],1),e._v(" "),a("router-link",{attrs:{to:"/ucp/configuracoes",exact:""},on:{click:e.closeMobNav}},[a("icon",{attrs:{icon:["fas","cog"]}}),e._v("Configurações")],1),e._v(" "),a("a",{attrs:{href:"#"},on:{click:e.logout}},[a("icon",{attrs:{icon:["fas","sign-out-alt"]}}),e._v("Sair")],1)],1):e._e()],1)])],1)},staticRenderFns:[]},pe=s("VU/8")(ve,_e,!1,null,null,null).exports,he={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hero"},[t("b-container",[t("h2",{staticClass:"hero__title"},[this._v("Bem vindo ao PC:RPG")]),this._v(" "),t("div",{staticClass:"hero__subtitle"},[this._v("\n            Paradise City é um servidor RPG no GTA V."),t("br"),this._v("\n            Explore, trabalhe, conquiste e faça sua vida em Los Santos!\n        ")])])],1)},staticRenderFns:[]};var ge=s("VU/8")({},he,!1,function(e){s("W9wV")},null,null).exports,fe=s("U0v6"),be=s.n(fe),Ce=(s("h17U"),{name:"Footer",components:{fa:be.a}}),we={render:function(){var e=this.$createElement,t=this._self._c||e;return t("footer",[t("b-container",[t("b-row",[t("b-col",{attrs:{sm:"12",md:"6"}},[t("p",[this._v("Paradise City RPG é uma propriedade intelectual da "),t("a",{attrs:{href:"https://wullo.ws/",target:"_blank"}},[this._v("Wullo Web Services")]),this._v(" e não possui vinculos com a Rockstar Games.")])]),this._v(" "),t("b-col",{staticClass:"social",attrs:{sm:"12",md:"6"}},[t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"https://fb.com/paradisecityrpg/",title:"Facebook",target:"_blank"}},[t("icon",{attrs:{icon:["fab","facebook-f"]}})],1),this._v(" "),t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"https://twitter.com/paradisecityrpg",title:"Twitter",target:"_blank"}},[t("icon",{attrs:{icon:["fab","twitter"]}})],1),this._v(" "),t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"https://www.youtube.com/channel/UCGo6hd688I7PS3NzRa01yiw",title:"YouTube",target:"_blank"}},[t("icon",{attrs:{icon:["fab","youtube"]}})],1),this._v(" "),t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"https://discordapp.com/invite/hpvRGZe",title:"Discord",target:"_blank"}},[t("icon",{attrs:{icon:["fab","discord"]}})],1)])],1)],1)],1)},staticRenderFns:[]},ke=s("VU/8")(Ce,we,!1,null,null,null).exports,ye={data:function(){return{user:{},loading:!0,siteLoaded:!1,dataLoaded:!1,fullyLoaded:!1}},methods:{appLoaded:function(){var e=this,t=localStorage.getItem("token");null!=t&&"undefined"!=t?k(t).then(function(t){t.data.error?(console.log(t.data.error),e.dataLoaded=!0,e.fullyLoaded=!0,reject()):(e.siteLoaded=!0,e.user=t.data,e.user.token=t.headers["token-refresh"],e.getForumData())}).catch(function(e){console.log(e)}):(this.siteLoaded=!0,this.dataLoaded=!0,this.fullyLoaded=!0)},getForumData:function(){var e=this;j(this.user.username).then(function(t){e.user.forumAtt=t.data.data;var s=[];for(var a in t.data.included)"groups"==t.data.included[a].type&&s.push(t.data.included[a].attributes);e.user.groups=s,e.authUser()}).catch(function(e){console.log(e)})},authUser:function(){var e=this;o.dispatch("login",this.user).then(function(){e.dataLoaded=!0,e.fullyLoaded=!0})}},mounted:function(){this.appLoaded()},components:{spinner:d,navbar:pe,store:o,hero:ge,appfooter:ke}},xe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"pcrpg"}},[e.fullyLoaded?s("div",[s("header",[s("navbar"),e._v(" "),s("hero")],1),e._v(" "),s("router-view"),e._v(" "),s("notifications",{attrs:{group:"main",position:"bottom right"}}),e._v(" "),s("appfooter")],1):s("div",{staticClass:"loader"},[s("div",{staticClass:"loader__container"},[s("spinner",{attrs:{loading:e.loading,color:"#303846",size:"90px"}}),e._v(" "),e.siteLoaded?e._e():s("h2",[e._v("Carregando site...")]),e._v(" "),e.siteLoaded&&!e.dataLoaded?s("h2",[e._v("Carregando sua conta...")]):e._e()],1)])])},staticRenderFns:[]};var Ue=s("VU/8")(ye,xe,!1,function(e){s("JC4x")},null,null).exports,Se=s("/ocq"),Pe={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},Ee={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[t("div",{staticClass:"v-pulse v-pulse1",style:[this.spinnerStyle,this.spinnerDelay1]}),t("div",{staticClass:"v-pulse v-pulse2",style:[this.spinnerStyle,this.spinnerDelay2]}),t("div",{staticClass:"v-pulse v-pulse3",style:[this.spinnerStyle,this.spinnerDelay3]})])},staticRenderFns:[]};var Ae=s("VU/8")(Pe,Ee,!1,function(e){s("SIEV")},null,null).exports,je={data:function(){return{serverInfoLoading:!1,serverInfoProcessed:!1,foundServer:!1,timerServerInfo:"",server:{processed:!1,online:!1}}},methods:{loadServerInfo:function(){var e=this;this.serverInfoLoading=!0,this.server.processed=!1,v.a.get("https://master.mta-v.net/api/servers/detailed").then(function(t){for(var s=0;s<t.data.list.length;s++){if("176.57.141.111:4499"==t.data.list[s].resolvedIP){e.server=t.data.list[s],e.foundServer=!0,e.server.processed=!0,e.server.online=!0,e.serverInfoLoading=!1;break}e.foundServer=!1,e.serverInfoLoading=!1,e.server.processed=!0,e.server.online=!1}}).catch(function(e){console.log(e)})}},beforeDestroy:function(){clearInterval(this.timerServerInfo)},mounted:function(){this.loadServerInfo(),this.timerServerInfo=setInterval(this.loadServerInfo,6e4)},components:{"vue-spinner":Ae}},Le={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"server-info"},[s("vue-spinner",{attrs:{loading:e.serverInfoLoading,color:"#303846",size:"10px"}}),e._v(" "),e.server.processed?s("b-row",{staticClass:"loaded"},[e.server.online?s("b-col",{staticClass:"status online",attrs:{cols:"2"}},[e._v("\n\t\t\t\tServidor Online\n\t\t\t")]):e._e(),e._v(" "),e.server.online?s("b-col",{staticClass:"name",attrs:{cols:"8"}},[s("span",[e._v(e._s(e.server.serverName))])]):e._e(),e._v(" "),e.server.online?s("b-col",{staticClass:"players",attrs:{cols:"2"}},[s("span",[e._v("Jogadores: "+e._s(e.server.currentPlayers)+"/"+e._s(e.server.maxPlayers))])]):e._e(),e._v(" "),e.server.online?e._e():s("b-col",{staticClass:"status offline",attrs:{cols:"12"}},[e._v("\n\t\t\t\tServidor Offline\n\t\t\t")])],1):e._e()],1)},staticRenderFns:[]};var Ne=s("VU/8")(je,Le,!1,function(e){s("lAYR")},"data-v-9cfcedb6",null).exports,Fe=(s("KREn"),{name:"BounceLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"60px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,height:this.size,width:this.size,borderRadius:this.radius,opacity:.6,position:"absolute",top:0,left:0}}},computed:{spinnerBasicStyle:function(){return{height:this.size,width:this.size,position:"relative"}}}}),Me={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[t("div",{staticClass:"v-bounce v-bounce1",style:this.spinnerBasicStyle},[t("div",{staticClass:"v-bounce v-bounce2",style:this.spinnerStyle}),t("div",{staticClass:"v-bounce v-bounce3",style:this.spinnerStyle})])])},staticRenderFns:[]};var Ie=s("VU/8")(Fe,Me,!1,function(e){s("8qS0")},null,null).exports,De={props:{post:Object},data:function(){return{username:"",useravatar:null,avatarLoading:!1,avatarProcessed:!1}},filters:{moment:function(e){return X()(e).fromNow()}},mounted:function(){var e=this;this.avatarLoading=!0,this.avatarProcessed=!1,j(this.post.relationships.startUser.data.id).then(function(t){e.username=t.data.data.attributes.username,e.useravatar=t.data.data.attributes.avatarUrl,e.avatarProcessed=!0,e.avatarLoading=!1}).catch(function(e){console.log(e)})},components:{"avatar-spinner":Ie,"username-spinner":Ae,userAvatar:ae}},$e={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post"},[s("a",{staticClass:"post__author",attrs:{href:"https://forum.pc-rpg.com.br/u/"+e.username}},[s("avatar-spinner",{staticClass:"avatar__loader",attrs:{loading:e.avatarLoading,color:"#303846",size:"38px"}}),e._v(" "),e.avatarProcessed?s("userAvatar",{staticClass:"avatar",attrs:{url:e.useravatar,username:e.username,size:"36px"}}):e._e()],1),e._v(" "),s("a",{staticClass:"post__content",attrs:{href:"https://forum.pc-rpg.com.br/d/"+e.post.id+"-"+e.post.attributes.slug}},[s("h3",{staticClass:"post__content__title"},[e._v(e._s(e.post.attributes.title))]),e._v(" "),s("ul",{staticClass:"post__content__info"},[s("li",{staticClass:"post__content__info__created"},[s("username-spinner",{staticClass:"username__loader",attrs:{loading:e.avatarLoading,color:"#303846",size:"5px"}}),e._v(" "),e.avatarProcessed?s("span",[s("b",[e._v(e._s(e.username))]),e._v(" publicou "+e._s(e._f("moment")(e.post.attributes.startTime)))]):e._e()],1)])]),e._v(" "),s("span",{staticClass:"post__comments"},[s("icon",{attrs:{icon:["far","comments"]}}),e._v(" "+e._s(e.post.attributes.commentsCount))],1)])},staticRenderFns:[]},ze=s("VU/8")(De,$e,!1,null,null,null).exports,Te={data:function(){return{news:{loading:!1,processed:!1,posts:[]},paginate:["news"]}},mounted:function(){var e=this;this.news.processed=!1,this.news.loading=!0,P().then(function(t){e.news.posts=t.data.data,e.news.processed=!0,e.news.loading=!1}).catch(function(e){console.log(e)})},components:{"vue-spinner":Ae,fa:be.a,post:ze}},Re={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block news"},[e._m(0),e._v(" "),s("div",{staticClass:"block__content",class:[e.news.posts.length>0?"block__content--borderless":""]},[s("vue-spinner",{staticClass:"loader",attrs:{loading:e.news.loading,color:"#303846",size:"10px"}}),e._v(" "),e.news.processed?s("div",{staticClass:"body"},[s("paginate",{attrs:{name:"news",list:e.news.posts,per:4}},[e._l(e.paginated("news"),function(e){return s("li",{key:e.id},[s("post",{attrs:{post:e}})],1)}),e._v(" "),0==e.news.posts.length?s("p",[e._v("Ainda não temos nenhuma novidade. Fique ligado no "),s("a",{attrs:{href:"https://forum.pc-rpg.com.br/",target:"_blank"}},[e._v("Fórum")]),e._v(" para acompanhar as últimas notícias do servidor")]):e._e()],2),e._v(" "),s("paginate-links",{attrs:{for:"news","show-step-links":!0,"hide-single-page":!0}})],1):e._e()],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block__header"},[t("h3",[this._v("Novidades")])])}]},Ve=s("VU/8")(Te,Re,!1,null,null,null).exports,qe={props:{patch:Object},filters:{moment:function(e){return X()(e).fromNow()}}},Oe={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post"},[s("a",{staticClass:"post__content",attrs:{href:"https://forum.pc-rpg.com.br/d/"+e.patch.id+"-"+e.patch.attributes.slug}},[s("h3",{staticClass:"post__content__title"},[e._v(e._s(e.patch.attributes.title))]),e._v(" "),s("ul",{staticClass:"post__content__info"},[s("li",{staticClass:"post__created"},[s("span",[e._v("\n                        "+e._s(e._f("moment")(e.patch.attributes.startTime))+"\n                    ")])])])]),e._v(" "),s("span",{staticClass:"post__comments"},[s("icon",{attrs:{icon:["far","comments"]}}),e._v(" "+e._s(e.patch.attributes.commentsCount))],1)])},staticRenderFns:[]};var Be=s("VU/8")(qe,Oe,!1,function(e){s("SYSC")},null,null).exports,He={data:function(){return{patches:{loading:!1,processed:!1,posts:[]}}},mounted:function(){var e=this;this.patches.processed=!1,this.patches.loading=!0,E().then(function(t){e.patches.posts=t.data.data,e.patches.processed=!0,e.patches.loading=!1,console.log(e.patches.posts)}).catch(function(e){console.log(e)})},components:{"vue-spinner":Ae,fa:be.a,post:Be}},We={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block patchnotes"},[e._m(0),e._v(" "),s("div",{staticClass:"block__content"},[s("vue-spinner",{staticClass:"loader",attrs:{loading:e.patches.loading,color:"#303846",size:"10px"}}),e._v(" "),e.patches.processed?s("div",[e._l(e.patches.posts.slice(0,4),function(e){return s("post",{key:e.id,attrs:{patch:e}})}),e._v(" "),0==e.patches.posts.length?s("p",[e._v("Ainda não lançamos nenhuma atualização. Por que não acompanha o "),s("router-link",{attrs:{to:"/dev"}},[e._v("desenvolvimento")]),e._v("?")],1):e._e()],2):e._e()],1),e._v(" "),e.patches.posts.length>4?s("div",{staticClass:"block__footer"},[s("a",{staticClass:"btn btn-primary btn-block",attrs:{href:"https://forum.pc-rpg.com.br/t/patchnotes"}},[e._v("Ver todas...")])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block__header"},[t("h3",[this._v("Últimas atualizações")])])}]};var Ge=s("VU/8")(He,We,!1,function(e){s("e6AD")},"data-v-19626944",null).exports,Ze={props:{post:Object},data:function(){return{username:"",useravatar:null,avatarLoading:!1,avatarProcessed:!1,tagLoading:!1,tagProcessed:!1,tags:{text:null,bg:null}}},filters:{moment:function(e){return X()(e).fromNow()}},mounted:function(){var e=this;this.avatarLoading=!0,this.avatarProcessed=!1,this.tagLoading=!0,this.tagProcessed=!1,j(this.post.relationships.startUser.data.id).then(function(t){e.username=t.data.data.attributes.username,e.useravatar=t.data.data.attributes.avatarUrl,e.avatarProcessed=!0,e.avatarLoading=!1}),N().then(function(t){for(var s=0;s<t.data.data.length;s++)t.data.data[s].id==e.post.relationships.tags.data[0].id&&(e.tags.text=t.data.data[s].attributes.name,e.tags.bg=t.data.data[s].attributes.color,e.tagProcessed=!0,e.tagLoading=!1)})},components:{"avatar-spinner":Ie,"dots-spinner":Ae,userAvatar:ae}},Je={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post"},[s("a",{staticClass:"post__author",attrs:{href:"https://forum.pc-rpg.com.br/u/"+e.username}},[s("avatar-spinner",{staticClass:"avatar__loader",attrs:{loading:e.avatarLoading,color:"#303846",size:"38px"}}),e._v(" "),e.avatarProcessed?s("userAvatar",{staticClass:"avatar",attrs:{url:e.useravatar,username:e.username,size:"36px"}}):e._e()],1),e._v(" "),s("a",{staticClass:"post__content",attrs:{href:"https://forum.pc-rpg.com.br/d/"+e.post.id+"-"+e.post.attributes.slug}},[s("h3",{staticClass:"post__content__title"},[e._v(e._s(e.post.attributes.title))]),e._v(" "),s("ul",{staticClass:"post__content__info"},[s("li",{staticClass:"post__created"},[s("dots-spinner",{staticClass:"username__loader",attrs:{loading:e.avatarLoading,color:"#303846",size:"5px"}}),e._v(" "),e.avatarProcessed?s("span",[e._v(e._s(e._f("moment")(e.post.attributes.startTime))+" • "+e._s(e.post.attributes.commentsCount)+" post"),e.post.attributes.commentsCount>1?s("span",[e._v("s")]):e._e()]):e._e()],1)])]),e._v(" "),s("dots-spinner",{staticClass:"tag__loader",attrs:{loading:e.tagLoading,color:"#303846",size:"5px"}}),e._v(" "),e.tagProcessed?s("b-badge",{staticClass:"post__tag",style:{backgroundColor:e.tags.bg}},[e._v(e._s(e.tags.text))]):e._e()],1)},staticRenderFns:[]},Xe=s("VU/8")(Ze,Je,!1,null,null,null).exports,Ke={data:function(){return{lastPosts:{loading:!1,processed:!1,posts:[]}}},mounted:function(){var e=this;this.lastPosts.processed=!1,this.lastPosts.loading=!0,A().then(function(t){e.lastPosts.posts=t.data.data,e.lastPosts.processed=!0,e.lastPosts.loading=!1})},components:{"vue-spinner":Ae,fa:be.a,post:Xe}},Ye={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block lastposts"},[s("div",{staticClass:"block__header"},[s("h3",[s("icon",{attrs:{icon:["far","comments"]}}),e._v(" Últimas Discussões")],1)]),e._v(" "),s("div",{staticClass:"block__content block__content--footerless"},[s("vue-spinner",{staticClass:"loader",attrs:{loading:e.lastPosts.loading,color:"#303846",size:"10px"}}),e._v(" "),e.lastPosts.processed?s("div",e._l(e.lastPosts.posts.slice(0,15),function(e){return s("post",{key:e.id,attrs:{post:e}})})):e._e()],1)])},staticRenderFns:[]},Qe=s("VU/8")(Ke,Ye,!1,null,null,null).exports;"pc-rpg.com.br"!=location.hostname&&location.hostname;var et={data:function(){return{stats:[]}},mounted:function(){var e=this;f().then(function(t){e.stats=t.data})}},tt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"stats__block"},[s("b-container",[s("div",{staticClass:"stats__block__wrapper"},[s("div",{staticClass:"stats__column"},[s("div",{staticClass:"number"},[e._v(e._s(e.stats.players))]),e._v(" "),s("div",{staticClass:"desc"},[e._v("Jogadores")])]),e._v(" "),s("div",{staticClass:"stats__column"},[s("div",{staticClass:"number"},[e._v(e._s(e.stats.characters))]),e._v(" "),s("div",{staticClass:"desc"},[e._v("Personagens")])]),e._v(" "),s("div",{staticClass:"stats__column"},[s("div",{staticClass:"number"},[e._v(e._s(e.stats.factions))]),e._v(" "),s("div",{staticClass:"desc"},[e._v("Facções")])]),e._v(" "),s("div",{staticClass:"stats__column"},[s("div",{staticClass:"number"},[e._v(e._s(e.stats.properties))]),e._v(" "),s("div",{staticClass:"desc"},[e._v("Propriedades")])])])])],1)},staticRenderFns:[]};var st=s("VU/8")(et,tt,!1,function(e){s("s7Aw")},"data-v-7c435199",null).exports,at=function(){return v.a.get("https://discordapp.com/api/guilds/188111558218481664/widget.json")},rt={data:function(){return{members:[{game:null}],channels:[],name:"",loading:!1,processed:!1,invitation:""}},mounted:function(){var e=this;this.loading=!0,this.processed=!1,at().then(function(t){e.members=t.data.members,e.channels=t.data.channels,e.name=t.data.name,e.invitation=t.data.instant_invite,e.processed=!0,e.loading=!1}).catch(function(e){console.log(e)})},components:{"vue-spinner":Ae,fa:be.a}},nt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"discord"},[s("vue-spinner",{attrs:{loading:e.loading,color:"#303846",size:"10px"}}),e._v(" "),e.processed?s("div",[s("div",{staticClass:"block"},[s("div",{staticClass:"block__header"},[s("h3",[s("icon",{attrs:{icon:["fab","discord"]}}),e._v(" "+e._s(e.name))],1)]),e._v(" "),s("div",{staticClass:"block__content"},[s("ul",{staticClass:"user__list"},e._l(e.members,function(t){return s("li",{key:t.id,staticClass:"user"},[s("div",{staticClass:"user__content"},[s("img",{attrs:{src:t.avatar_url}}),e._v(" "),s("ul",{staticClass:"user__info"},[s("li",{staticClass:"user__info__name"},[e._v(e._s(t.username))]),e._v(" "),t.game?s("li",{staticClass:"user__info__game"},[e._v("Jogando "+e._s(t.game.name))]):s("li",{staticClass:"user__info__status"},["online"==t.status?s("span",{staticClass:"user__info__status--online"},[e._v("online")]):e._e(),e._v(" "),"idle"==t.status?s("span",{staticClass:"user__info__status--away"},[e._v("ausente")]):e._e(),e._v(" "),"dnd"==t.status?s("span",{staticClass:"user__info__status--busy"},[e._v("ocupado")]):e._e()])])])])}))]),e._v(" "),s("div",{staticClass:"block__footer"},[s("a",{staticClass:"btn btn-primary btn-block",attrs:{href:e.invitation}},[e._v("Juntar-se!")])])])]):e._e()],1)},staticRenderFns:[]},it=s("VU/8")(rt,nt,!1,null,null,null).exports,ot={props:["user"],filters:{moment:function(e){return X()(e).fromNow()}},components:{userAvatar:ae}},lt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user"},[s("userAvatar",{staticClass:"user__avatar",attrs:{url:e.user.avatarUrl,username:e.user.username,size:"36px",clickable:""}}),e._v(" "),s("router-link",{staticClass:"user__content",attrs:{to:"/jogador/"+e.user.username}},[s("h3",{staticClass:"user__name"},[e._v(e._s(e.user.username))]),e._v(" "),s("ul",{staticClass:"user__info"},[s("li",[e._v("\n                Visto pela última vez "+e._s(e._f("moment")(e.user.lastSeenTime))+"\n            ")])])])],1)},staticRenderFns:[]},ct=s("VU/8")(ot,lt,!1,null,null,null).exports,ut={data:function(){return{users:[],admins:[],devs:[],mods:[],supports:[]}},mounted:function(){var e=this;L().then(function(t){e.users=t.data.data;for(var s=0;s<e.users.length;s++)if(null!=e.users[s].relationships.groups.data)for(var a=0;a<e.users[s].relationships.groups.data.length;a++)1==e.users[s].relationships.groups.data[a].id&&e.devs.push(e.users[s].attributes),5==e.users[s].relationships.groups.data[a].id&&e.mods.push(e.users[s].attributes),4==e.users[s].relationships.groups.data[a].id&&e.admins.push(e.users[s].attributes),6==e.users[s].relationships.groups.data[a].id&&e.supports.push(e.users[s].attributes)}).catch(function(e){console.log(e)})},components:{"vue-spinner":Ae,fa:be.a,user:ct}},dt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block team"},[s("div",{staticClass:"block__header"},[s("h3",[s("icon",{attrs:{icon:["fas","users"]}}),e._v(" A equipe")],1)]),e._v(" "),s("div",{staticClass:"block__content"},[s("div",{attrs:{role:"tablist"}},[s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.devs",modifiers:{devs:!0}}],staticClass:"rank"},[e._v("\n                Desenvolvedores\n                "),s("span",{staticClass:"opened"},[s("icon",{attrs:{icon:["fas","angle-up"]}})],1),e._v(" "),s("span",{staticClass:"closed"},[s("icon",{attrs:{icon:["fas","angle-down"]}})],1)]),e._v(" "),s("b-collapse",{attrs:{accordion:"team",id:"devs"}},e._l(e.devs,function(e){return s("user",{key:e.id,attrs:{user:e}})})),e._v(" "),s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.admin",modifiers:{admin:!0}}],staticClass:"rank"},[e._v("\n                Administradores\n                "),s("span",{staticClass:"opened"},[s("icon",{attrs:{icon:["fas","angle-up"]}})],1),e._v(" "),s("span",{staticClass:"closed"},[s("icon",{attrs:{icon:["fas","angle-down"]}})],1)]),e._v(" "),s("b-collapse",{attrs:{accordion:"team",id:"admin"}},e._l(e.admins,function(e){return s("user",{key:e.id,attrs:{user:e}})})),e._v(" "),s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.mods",modifiers:{mods:!0}}],staticClass:"rank"},[e._v("\n                Moderadores\n                "),s("span",{staticClass:"opened"},[s("icon",{attrs:{icon:["fas","angle-up"]}})],1),e._v(" "),s("span",{staticClass:"closed"},[s("icon",{attrs:{icon:["fas","angle-down"]}})],1)]),e._v(" "),s("b-collapse",{attrs:{accordion:"team",id:"mods"}},e._l(e.mods,function(e){return s("user",{key:e.id,attrs:{user:e}})})),e._v(" "),s("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.support",modifiers:{support:!0}}],staticClass:"rank"},[e._v("\n                Suporte\n                "),s("span",{staticClass:"opened"},[s("icon",{attrs:{icon:["fas","angle-up"]}})],1),e._v(" "),s("span",{staticClass:"closed"},[s("icon",{attrs:{icon:["fas","angle-down"]}})],1)]),e._v(" "),s("b-collapse",{attrs:{accordion:"team",id:"support"}},e._l(e.supports,function(e){return s("user",{key:e.id,attrs:{user:e}})}))],1)])])},staticRenderFns:[]};var mt={components:{"vue-spinner":Ae,serverinfo:Ne,news:Ve,patchnotes:Ge,stats:st,discord:it,lastdiscussions:Qe,team:s("VU/8")(ut,dt,!1,function(e){s("lRDq")},"data-v-955fe92c",null).exports}},vt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page__index"},[s("b-container",[s("serverinfo"),e._v(" "),s("b-row",[s("b-col",{attrs:{sm:"12",md:"8"}},[s("news")],1),e._v(" "),s("b-col",{attrs:{sm:"12",md:"4"}},[s("patchnotes")],1)],1)],1),e._v(" "),s("stats"),e._v(" "),s("b-container",[s("div",{staticClass:"joinus"},[s("h2",[s("b",[e._v("#")]),e._v("Junte-se a nós")]),e._v(" "),s("b-row",[s("b-col",{attrs:{sm:"12",md:"4"}},[s("discord")],1),e._v(" "),s("b-col",{attrs:{sm:"12",md:"4"}},[s("lastdiscussions")],1),e._v(" "),s("b-col",{attrs:{sm:"12",md:"4"}},[s("team")],1)],1)],1)])],1)},staticRenderFns:[]},_t=s("VU/8")(mt,vt,!1,null,null,null).exports,pt="https://gitlab.com/api/v4/projects/6159796",ht="private_token=qn42srqy59sVqMtCnaYp",gt=function(e){return v.a.get(pt+"/repository/commits?ref_name=development&"+ht+"&page=1&per_page=10",{params:{page:e}})},ft=function(){return v.a.get(pt+"?statistics=true&"+ht)},bt=function(e){return v.a.get(pt+"/users?"+ht+"&search="+e)},Ct=s("qK+J"),wt=s.n(Ct),kt={props:{commit:Object},data:function(){return{useravatar:null,avatarLoading:!1,avatarProcessed:!1}},mounted:function(){var e=this;this.avatarLoading=!0,this.avatarProcessed=!1,setTimeout(function(){bt(e.commit.author_email).then(function(t){e.useravatar=t.data[0].avatar_url,e.avatarProcessed=!0,e.avatarLoading=!1}).catch(function(e){})},4e3)},filters:{moment:function(e){return X()(e).fromNow()}},components:{"avatar-spinner":Ie}},yt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"commit"},[s("b-row",[s("b-col",{staticClass:"commit__user",attrs:{cols:"2"}},[s("avatar-spinner",{staticClass:"avatar__loader",attrs:{loading:e.avatarLoading,color:"#303846",size:"90px"}}),e._v(" "),e.avatarProcessed?s("img",{staticClass:"commit__user__avatar",attrs:{src:e.useravatar}}):e._e(),e._v(" "),s("span",{staticClass:"commit__user__name"},[e._v(e._s(e.commit.author_name))])],1),e._v(" "),s("b-col",{staticClass:"commit__message",attrs:{sm:"12",md:"10"}},[e._v("\n            "+e._s(e.commit.message)+"\n            "),s("span",{staticClass:"commit__message__date"},[e._v(e._s(e._f("moment")(e.commit.created_at))+" atrás")])])],1)],1)},staticRenderFns:[]},xt=s("VU/8")(kt,yt,!1,null,null,null).exports,Ut={data:function(){return{currentPage:1,loading:!1,totalcommits:2,commits:[],stats:[]}},methods:{getCommits:function(e){var t=this;gt(this.currentPage).then(function(s){s.data.length>0?(t.currentPage++,t.commits=t.commits.concat(s.data),e.loaded()):e.complete()}).catch(function(t){console.log(t),e.loaded()})}},mounted:function(){var e=this;ft().then(function(t){e.stats=t.data.statistics}).catch(function(e){console.log(e)})},components:{InfiniteLoading:wt.a,commits:xt}},St={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page__development"},[s("b-container",[s("b-row",[s("b-col",{attrs:{md:"6"}},[e._v("\n\t\t\t\tAcompanhe o desenvolvimento do servidor em tempo real.\n\t\t\t")]),e._v(" "),s("b-col",{staticClass:"stats",attrs:{md:"6"}},[e._v("\n\t\t\t\tCommits: "),s("b",[e._v(e._s(e.stats.commit_count))])])],1),e._v(" "),s("div",{attrs:{"infinite-wrapper":""}},e._l(e.commits,function(e){return s("commits",{key:e.id,attrs:{commit:e}})})),e._v(" "),s("infinite-loading",{attrs:{"force-use-infinite-wrapper":"true",spinner:"spiral"},on:{infinite:e.getCommits}},[s("span",{staticClass:"nomore",attrs:{slot:"no-more"},slot:"no-more"},[e._v("Aqui foi onde tudo começou.")])])],1)],1)},staticRenderFns:[]},Pt=s("VU/8")(Ut,St,!1,null,null,null).exports,Et={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",[t("h1",[this._v("404")]),this._v(" "),t("h3",[this._v("Não encontramos a página que você está procurando =(")]),this._v(" "),t("router-link",{staticClass:"button primary",attrs:{to:"/"}},[this._v("Voltar a página inicial")])],1)},staticRenderFns:[]};var At=s("VU/8")(null,Et,!1,function(e){s("dPqi")},"data-v-7972d2ac",null).exports,jt=(s("v2ns"),s("7QTg")),Lt=s.n(jt),Nt={props:{user:Object},filters:{bio:function(e){return e.replace(/(?:\r\n|\r|\n)/g," ")}}},Ft={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comp__userContent"},[s("h3",{staticClass:"comp__userContent__username"},[e._v(e._s(e.user.forumAtt.attributes.username))]),e._v(" "),e.user.forumAtt.attributes.bio?s("p",{staticClass:"comp__userContent__bio"},[e._v(e._s(e._f("bio")(e.user.forumAtt.attributes.bio)))]):e._e(),e._v(" "),s("div",{staticClass:"tags"},e._l(e.user.groups,function(t){return s("b-badge",{key:t.id,style:{borderColor:t.color}},[s("span",{staticClass:"icon",style:{backgroundColor:t.color}},[s("icon",{attrs:{icon:["fas",t.icon]}})],1),e._v(" "),s("span",{style:{color:t.color}},[e._v(e._s(t.nameSingular))])])}))])},staticRenderFns:[]},Mt=s("VU/8")(Nt,Ft,!1,null,null,null).exports,It={props:{char:Object,empty:Boolean},data:function(){return{username:this.$route.params.username}},components:{FontAwesomeLayers:fe.FontAwesomeLayers,"vue-spinner":Ae}},Dt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.char&&!e.empty?s("div",{staticClass:"char__card"},[s("div",{staticClass:"char__card__main"},[s("span",{staticClass:"char__card__main--level"},[e._v(e._s(e.char.level))])]),e._v(" "),s("div",{staticClass:"char__card__info"},[s("h4",[e._v(e._s(e.char.name))])]),e._v(" "),s("table",{staticClass:"char__card__stats"},[s("tr",[s("td",{staticClass:"opt"},[e._v("Profissão")]),e._v(" "),null!=e.char.job?s("td",{staticClass:"value"},[e._v(e._s(e.char.job))]):s("td",{staticClass:"value"},[e._v("-")])]),e._v(" "),s("tr",[s("td",{staticClass:"opt"},[e._v("Facção")]),e._v(" "),null!=e.char.faction?s("td",{staticClass:"value"},[e._v(e._s(e.char.faction))]):s("td",{staticClass:"value"},[e._v("-")])]),e._v(" "),s("tr",[s("td",{staticClass:"opt"},[e._v("Tempo Jogado")]),e._v(" "),s("td",{staticClass:"value"},[e._v(e._s(e.char.timeplayed))])])])]):e.empty?s("div",{staticClass:"char__card char__card--empty"},[s("div",{staticClass:"card__icon"},[s("font-awesome-layers",[s("icon",{attrs:{icon:["fas","street-view"]}}),e._v(" "),s("icon",{attrs:{icon:["fas","plus"],transform:"shrink-12 right-5 up-9"}})],1)],1),e._v(" "),s("span",{staticClass:"card__text"},[e._v("Espaço de personagem vazio")])]):e._e()},staticRenderFns:[]},$t=s("VU/8")(It,Dt,!1,null,null,null).exports,zt={props:{user:Object,post:Object},data:function(){return{userDiscussion:{},postP:{loading:!0,processed:!1}}},mounted:function(){var e=this;M(this.post.relationships.discussion.data.id).then(function(t){e.userDiscussion=t.data.data,e.postP.loading=!1,e.postP.processed=!0})},filters:{moment:function(e){return X()(e).fromNow()},parseText:function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}},components:{"vue-spinner":Ae,userAvatar:ae}},Tt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"forum__post"},[s("vue-spinner",{attrs:{loading:e.postP.loading,color:"#303846",size:"10px"}}),e._v(" "),e.postP.processed?s("div",[s("a",{attrs:{href:"https://forum.pc-rpg.com.br/u/"+e.user.forumAtt.attributes.username,target:"_blank"}},[s("userAvatar",{attrs:{url:e.user.forumAtt.attributes.avatarUrl,username:e.user.username,mobSize:"40px",size:"45px"}})],1),e._v(" "),s("p",{staticClass:"forum__post__text"},[s("span",{staticClass:"forum__post__text__info"},[e._v("\n\t\t\t\tEm "),s("a",{attrs:{href:"https://forum.pc-rpg.com.br/d/"+e.userDiscussion.id+"-"+e.userDiscussion.attributes.slug+"/"+e.post.attributes.number,target:"_blank"}},[e._v(e._s(e.userDiscussion.attributes.title))]),e._v(" \n\t\t\t\t"+e._s(e._f("moment")(e.post.attributes.time))+":\n\t\t\t")]),e._v("\n\t\t\t"+e._s(e._f("parseText")(e.post.attributes.contentHtml))+"\n\t\t")])]):e._e()],1)},staticRenderFns:[]};var Rt=s("VU/8")(zt,Tt,!1,function(e){s("nrri")},"data-v-108815c1",null).exports,Vt={props:{user:Object},data:function(){return{lastPosts:{},forum:{loading:!1,processed:!1}}},mounted:function(){var e=this;this.forum.loading=!0,F(this.user.forumAtt.id).then(function(t){for(var s=t.data.data,a=[],r=0;r<s.length;r++)"comment"===s[r].attributes.contentType&&a.push(s[r]);e.lastPosts=a,e.forum.loading=!1,e.forum.processed=!0})},filters:{moment:function(e){return X()(e).fromNow()},parseText:function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}},components:{"vue-spinner":Ae,post:Rt}},qt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.lastPosts.length>0?s("div",{staticClass:"forumlog__container"},[s("div",{staticClass:"forumlog__container__content"},[s("vue-spinner",{attrs:{loading:e.forum.loading,color:"#303846",size:"10px"}}),e._v(" "),e.forum.processed?s("div",e._l(e.lastPosts.slice(0,5),function(t){return s("post",{key:t.id,attrs:{post:t,user:e.user}})})):e._e(),e._v(" "),e.lastPosts.length>5?s("a",{staticClass:"btn btn-primary",attrs:{href:"https://forum.pc-rpg.com.br/u/"+e.user.username,target:"_blank"}},[e._v("Ver todos")]):e._e()],1)]):s("div",[e.forum.processed?s("div",[e._v("Não há dados para serem mostrados")]):e._e()])])},staticRenderFns:[]};var Ot=s("VU/8")(Vt,qt,!1,function(e){s("lKBI")},"data-v-1719b1b2",null).exports,Bt={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{},[this._v("\n    Não há dados para serem mostrados\n")])},staticRenderFns:[]},Ht=s("VU/8")({},Bt,!1,null,null,null).exports,Wt={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{},[this._v("\n    Não há dados para serem mostrados\n")])},staticRenderFns:[]},Gt=s("VU/8")({},Wt,!1,null,null,null).exports,Zt={props:{user:Object},data:function(){return{loading:!0,editable:!1,localUser:o.state.user,localUserLoggedIn:!1,swiperOption:{slidesPerView:1,init:!0,variableWidth:!1,pagination:{el:".swiper-pagination"}},charsData:[],buttons:{message:!1}}},computed:{isMobile:function(){return window.innerWidth<768},showMessageButton:function(){return this.user._id!==this.localUser._id}},watch:{$route:function(e,t){window.innerWidth<768&&this.closeMobNav()}},methods:{getUserCharacters:function(){var e=this;h(this.user.username).then(function(t){e.charsData=t.data}).catch(function(e){console.log(e)})}},mounted:function(){null==this.localUser.token?this.localUserLoggedIn=!1:this.localUserLoggedIn=!0,this.getUserCharacters()},components:{spinner:d,char:$t,forumlog:Ot,serverlog:Ht,history:Gt,userAvatar:ae,userContent:Mt,swiper:jt.swiper,swiperSlide:jt.swiperSlide}},Jt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"page__user-profile"},[s("b-row",[s("b-col",{staticClass:"user-profile__block",attrs:{md:"12"}},[s("userAvatar",{attrs:{url:e.user.forumAtt.attributes.avatarUrl,username:e.user.username,mobSize:"80px",editable:e.editable}}),e._v(" "),s("userContent",{attrs:{user:e.user}}),e._v(" "),e.localUserLoggedIn?s("div",{staticClass:"action-buttons"},[e.showMessageButton?s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/ucp/mensagens/nova/"+e.user.username}},[s("icon",{attrs:{icon:["fas","envelope"]}})],1):e._e()],1):e._e()],1)],1),e._v(" "),e.isMobile&&e.charsData.length>=1?s("swiper",{ref:"charsSwiper",staticClass:"char__wrapper",attrs:{options:e.swiperOption}},[e.charsData.length>=1?s("div",[e._l(e.charsData,function(e){return s("swiper-slide",{key:e.id,staticClass:"char__wrapper--item"},[s("char",{attrs:{char:e}})],1)}),e._v(" "),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):e._e()]):e.isMobile&&0===e.charsData.length?s("b-row",[s("char",{staticClass:"col-md-12",attrs:{empty:""}})],1):e._e(),e._v(" "),e.isMobile?e._e():s("b-row",{staticClass:"user-profile__chars"},[e._l(e.charsData,function(t){return e.charsData.length>0?s("char",{key:t.id,staticClass:"col-md-4",attrs:{char:t}}):e._e()}),e._v(" "),0===e.charsData.length?s("char",{staticClass:"col-md-4",attrs:{empty:""}}):e._e(),e._v(" "),0===e.charsData.length?s("char",{staticClass:"col-md-4",attrs:{empty:""}}):e._e(),e._v(" "),0===e.charsData.length?s("char",{staticClass:"col-md-4",attrs:{empty:""}}):e._e()],2),e._v(" "),s("b-row",{staticClass:"user-profile__data"},[s("b-col",{staticClass:"user-profile__data__container",attrs:{cols:"12"}},[s("b-tabs",[s("b-tab",{attrs:{title:"Fórum",active:""}},[s("forumlog",{attrs:{user:e.user}})],1),e._v(" "),s("b-tab",{attrs:{title:"Servidor"}},[s("serverlog",{attrs:{user:e.user}})],1),e._v(" "),s("b-tab",{attrs:{title:"Histórico"}},[s("history",{attrs:{user:e.user}})],1)],1)],1)],1)],1)},staticRenderFns:[]},Xt=s("VU/8")(Zt,Jt,!1,null,null,null).exports,Kt={data:function(){return{user:[],localUser:o.state.user,localUserLoggedIn:!1,userLoading:!0,userFound:!1}},mounted:function(){var e=this;null==this.localUser.token?this.localUserLoggedIn=!1:this.localUserLoggedIn=!0;var t=this.$route.params.username;g(t).then(function(s){null===s?(e.userLoading=!1,e.userFound=!1,e.$router.push(e.$route.query.redirect||"/jogador")):(e.user=s.data,e.user.forumAtt={},e.user.groups={},e.userFound=!0,j(t).then(function(t){e.user.forumAtt=t.data.data;var s=[];for(var a in t.data.included)"groups"==t.data.included[a].type&&s.push(t.data.included[a].attributes);e.user.groups=s,e.userLoading=!1}))}).catch(function(t){console.log(t),e.userLoading=!1,e.userFound=!1,e.$router.push(e.$route.query.redirect||"/jogador")})},components:{playerProfile:Xt,loader:d}},Yt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page__user-profile"},[t("loader",{attrs:{loading:this.userLoading,color:"#303846",size:"60px"}}),this._v(" "),this.userLoading?this._e():t("div",[this.userFound?t("div",[t("playerProfile",{attrs:{user:this.user}})],1):this._e()])],1)},staticRenderFns:[]};var Qt=s("VU/8")(Kt,Yt,!1,function(e){s("LbTc")},"data-v-6ab5a714",null).exports,es={data:function(){return{currentRoute:this.$route.name,ucpNavOpened:!1}},computed:{isMobile:function(){return window.innerWidth<768}},methods:{showUCPNav:function(){document.getElementById("navUCPMenu");var e=document.getElementsByClassName("current__route")[0],t=document.getElementById("navUCPBlock");document.getElementById("navOverlay"),document.querySelectorAll(".router-link");e.classList.remove("current__route--closed"),e.classList.add("current__route--opened"),t.style.display="",this.ucpNavOpened=!0},hideUCPNav:function(){document.getElementById("navUCPMenu");var e=document.getElementsByClassName("current__route")[0],t=document.getElementById("navUCPBlock");document.getElementById("navOverlay"),document.querySelectorAll(".router-link");e.classList.remove("current__route--opened"),e.classList.add("current__route--closed"),t.style.display="none",this.ucpNavOpened=!1},toggleUCPNav:function(e){e.preventDefault(),document.getElementsByClassName("current__route")[0].classList.contains("current__route--closed")?this.showUCPNav():this.hideUCPNav()},logout:function(){this.$root.$emit("logout")}},watch:{$route:function(e,t){this.currentRoute=this.$route.name,window.innerWidth<768&&this.ucpNavOpened&&this.hideUCPNav()}}},ts={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"ucp__menu",attrs:{id:"navUCPMenu"}},[e.isMobile?s("a",{staticClass:"router-link current__route current__route--closed",attrs:{href:"#"},on:{click:e.toggleUCPNav}},[e._v(e._s(e.currentRoute)+" "),s("icon",{staticClass:"route__bars",attrs:{icon:["fas","bars"]}})],1):e._e(),e._v(" "),s("div",{staticClass:"ucp__menu__block",staticStyle:{display:"none"},attrs:{id:"navUCPBlock"}},[s("router-link",{staticClass:"router-link",attrs:{to:"/ucp",exact:""},on:{click:e.toggleUCPNav}},[e._v("Início")]),e._v(" "),s("router-link",{staticClass:"router-link",attrs:{to:"/ucp/perfil",exact:""},on:{click:e.toggleUCPNav}},[e._v("Perfil")]),e._v(" "),s("router-link",{staticClass:"router-link",attrs:{to:"/ucp/configuracoes",exact:""},on:{click:e.toggleUCPNav}},[e._v("Configurações")]),e._v(" "),s("router-link",{staticClass:"router-link",attrs:{to:"/ucp/mensagens"},on:{click:e.toggleUCPNav}},[e._v("Mensagens")]),e._v(" "),s("a",{staticClass:"router-link",attrs:{href:"#"},on:{click:e.logout}},[e._v("Sair")])],1)])},staticRenderFns:[]},ss={data:function(){return{user:o.state.user,firstTime:!1,userLoggedIn:null}},watch:{user:{handler:function(e,t){null==this.user.token?this.userLoggedIn=!1:this.userLoggedIn=!0},deep:!0}},computed:{firstTime:function(){var e=localStorage.getItem("firstTimeUCP");return"true"===e||null===e}},mounted:function(){var e=this;null==this.user.token?this.$router.push(this.$route.query.redirect||"/"):this.userLoggedIn=!0,o.watch(function(e){return o.getters.getUserData},function(t,s){e.user=o.state.user});var t=localStorage.getItem("firstTimeUCP");"true"===t||null===t?(this.firstTime=!0,localStorage.setItem("firstTimeUCP",!0)):this.firstTime=!1,this.$root.$on("hideFirstTimeTut",function(t){e.firstTime=t})},components:{ucpmenu:s("VU/8")(es,ts,!1,null,null,null).exports}},as={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-container",{staticClass:"ucp"},[this.userLoggedIn?t("div",[this.firstTime?this._e():t("ucpmenu"),this._v(" "),t("router-view")],1):this._e()])},staticRenderFns:[]};var rs=s("VU/8")(ss,as,!1,function(e){s("Ke9K")},null,null).exports,ns=s("INCx"),is=s.n(ns),os={data:function(){return{user:o.state.user}},mounted:function(){var e=this;o.watch(function(e){return o.getters.getUserData},function(t,s){e.user=o.state.user})}},ls={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"firsttime__block__content"},[t("h4",{staticClass:"firsttime__block__content__title"},[this._v("Olá, "+this._s(this.user.forumAtt.attributes.username)+"!")]),this._v(" "),this._m(0)])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("\n        Aparentemente é a primeira vez que você está por aqui.\n        "),s("br"),s("br"),e._v("\n        Seja bem vindo ao painel de usuário do PC:RPG! Esta é uma área em constante atualização, aqui você vai conseguir atualizar seu perfil,\n        ver seus dados em tempo real, acompanhar seus personagens e muito mais.\n        "),s("br"),s("br"),e._v("\n        Você pode acompanhar as atualizações constantes ocorrendo no site ou no servidor, pela "),s("a",{attrs:{href:"https://forum.pc-rpg.com.br/t/patchnotes",target:"_blank"}},[e._v("tag de patchnotes")]),e._v(" no Fórum.\n        "),s("br"),s("br"),e._v("\n        Para começar com o pé direito, sinta-se livre para usar sua foto favorita como avatar e preencher os dados adicionais quanto ao seu perfil.\n        "),s("br"),s("br"),e._v("\n        Você também pode ignorar e fazer isso depois, porém, é bom você confirmar pelo menos o seu nome de usuário, já que você só vai conseguir alterar ele novamente daqui 3 meses.\n        "),s("br"),s("br"),e._v("\n        Have fun! :D\n    ")])}]},cs=s("VU/8")(os,ls,!1,null,null,null).exports,us={data:function(){return{user:o.state.user,userAvatar:null,userLoggedIn:null,avatarFile:null,loadingData:!1,newUsername:"",usernameChecking:!1,errorUsername:null,fileChanged:!1}},methods:{checkUsername:function(){var e=this;this.fields.$userScope.username.changed&&this.fields.$userScope.username.valid&&(this.usernameChecking=!0,this.user.username!=this.newUsername.toLowerCase()?p().then(function(t){for(var s=0;s<t.data.length;s++){if(t.data[s].username==e.newUsername.toLowerCase()){e.errorUsername="Esse nome de usuário já está em uso",e.usernameChecking=!1;break}e.errorUsername=!1,e.usernameChecking=!1}}):(this.usernameChecking=!1,this.errorUsername=!1))},ignoreInit:function(){localStorage.setItem("firstTimeUCP",!1),this.$root.$emit("hideFirstTimeTut",!1)},onFileChanged:function(e){this.avatarFile=e.target.files[0],this.userAvatar=URL.createObjectURL(e.target.files[0]),this.fileChanged=!0},updateUser:function(){var e=this;if(this.loadingData=!0,null!=this.avatarFile){var t=new FormData;t.append("avatar",this.avatarFile,this.avatarFile.name);var s=this.user.forumAtt.id;D(s,t).then(function(t){e.user.forumAtt.attributes.avatarUrl=t.data.data.attributes.avatarUrl,e.updateServerUserAtt()}).catch(function(t){console.log(t),e.loadingData=!1})}else this.updateServerUserAtt()},updateServerUserAtt:function(){var e=this;w(this.user.username,this.newUsername).then(function(t){e.user.username=e.newUsername.toLowerCase(),e.user.token=t.data.token,e.updateForumUserAtt()}).catch(function(t){console.log(t),e.loadingData=!1})},updateForumUserAtt:function(){var e=this,t={attributes:{bio:this.user.forumAtt.attributes.bio,username:this.newUsername}};I(this.user.forumAtt.id,t).then(function(t){o.dispatch("setData",e.user).then(function(){e.loadingData=!1,localStorage.setItem("firstTimeUCP",!1),e.$root.$emit("hideFirstTimeTut",!1),e.fileChanged&&location.reload()})})}},mounted:function(){null!=this.user.forumAtt.attributes.avatarUrl&&(this.userAvatar=this.user.forumAtt.attributes.avatarUrl),this.newUsername=this.user.forumAtt.attributes.username},components:{beatloader:V,moonloader:d,textFirstTime:cs,formFirstTime:ms}},ds={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"firsttime__block__info"},[s("div",{staticClass:"firsttime__block__info__image"},[null!=e.userAvatar?s("img",{attrs:{src:e.userAvatar}}):s("div",{staticClass:"firsttime__block__info__image--empty"},[e._v(" ? ")])]),e._v(" "),s("form",{staticClass:"firsttime__block__info__form",on:{submit:function(t){t.preventDefault(),e.updateUser()}}},[s("b-form-group",{attrs:{label:"Gostaria de alterar o seu avatar?","label-for":"avatarUpload",description:"Utilize apenas formatos <b>.jpg/jpeg</b> e <b>.png</b>. Tamanho máximo <b>150kb</b>"}},[s("b-form-file",{attrs:{accept:"image/jpeg, image/png",id:"avatarUpload",placeholder:"Selecione um arquivo..."},on:{change:e.onFileChanged},model:{value:e.avatarFile,callback:function(t){e.avatarFile=t},expression:"avatarFile"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Conte-nos um pouco sobre você.<br/>","label-for":"userBio",description:"Essa bio vai ficar pública no fórum e no seu perfil"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"max:70",expression:"'max:70'"}],attrs:{id:"userBio",type:"text",placeholder:"Conte-nos sobre você",value:e.user.forumAtt.attributes.bio},model:{value:e.user.forumAtt.attributes.bio,callback:function(t){e.$set(e.user.forumAtt.attributes,"bio",t)},expression:"user.forumAtt.attributes.bio"}})],1),e._v(" "),s("b-form-group",{attrs:{label:"Confirme seu nome de usuário:<br/>","label-for":"userName"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{regex:/^[a-zA-Z0-9]+([_-]?[a-zA-Z0-9])*$/,min:5,max:15,required:!0},expression:"{ regex: /^[a-zA-Z0-9]+([_-]?[a-zA-Z0-9])*$/ , min: 5, max: 15, required: true}"}],class:{"is-invalid":e.errors.has("userScope.username")||e.errorUsername,"is-valid":!e.errors.has("userScope.username")&&0!=e.newUsername.length&&!e.errorUsername},attrs:{id:"userName",type:"text",name:"username","data-vv-scope":"userScope",placeholder:"Confirme seu nome de usuário",value:e.user.forumAtt.attributes.username,state:null,autocomplete:"off",disabled:e.usernameChecking},on:{change:function(t){e.checkUsername()}},model:{value:e.newUsername,callback:function(t){e.newUsername=t},expression:"newUsername"}}),e._v(" "),s("beatloader",{staticClass:"input-spinner",attrs:{loading:e.usernameChecking,color:"#303846",size:"5px"}}),e._v(" "),s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("userScope.username")))]),e._v(" "),e.errorUsername?s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errorUsername))]):e._e(),e._v(" "),e.errors.first("userScope.username")?e._e():s("small",{staticClass:"form-text text-muted"},[e._v("Você só vai conseguir trocar daqui 3 meses")])],1),e._v(" "),s("b-form-group",[s("b-button-group",{attrs:{right:""}},[s("b-button",{on:{click:function(t){e.ignoreInit()}}},[e._v("Pular essa etapa")]),e._v(" "),s("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.loadingData||e.errors.has("userScope.username")||0===e.newUsername.length||e.errorUsername||e.usernameChecking}},[e._v("\n                    Salvar\n                    "),s("moonloader",{attrs:{loading:e.loadingData,color:"#303846",size:"25px"}})],1)],1)],1)],1)])},staticRenderFns:[]},ms=s("VU/8")(us,ds,!1,null,null,null).exports,vs={data:function(){return{user:o.state.user,userLoggedIn:null}},methods:{},mounted:function(){var e=this;null==this.user.token?this.userLoggedIn=!1:this.userLoggedIn=!0,o.watch(function(e){return o.getters.getUserData},function(t,s){e.user=o.state.user})},components:{textFirstTime:cs,formFirstTime:ms}},_s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("b-row",{staticClass:"firsttime__block",attrs:{"align-h":"between"}},[t("b-col",{attrs:{md:"5",sm:"12"}},[t("textFirstTime")],1),this._v(" "),t("b-col",{attrs:{md:"7",sm:"12"}},[t("formFirstTime")],1)],1)},staticRenderFns:[]},ps={data:function(){return{user:o.state.user,avatarFile:null,firstTime:!1,userActivatedStatus:null,punishment:[],counting:{now:is()((new Date).getTime()/1e3),punishmentEnd:null},swiperOption:{slidesPerView:1,init:!0,variableWidth:!1,navigation:{nextEl:".ucp__block__character-swiper__arrow--next",prevEl:".ucp__block__character-swiper__arrow--prev"},pagination:{el:".ucp__block__character-swiper__pagination"}},chars:[]}},watch:{user:{handler:function(e,t){null==this.user.token?this.userLoggedIn=!1:this.userLoggedIn=!0},deep:!0}},filters:{userAccountStatusText:function(e){var t=void 0;switch(e){case 0:t="Desativada";break;case 1:t="Ativa";break;case 2:t="Banido Temp.";break;case 3:t="Banido Perm."}return t},normalDateFilter:function(e){return X()(e).format("L")},twoDigits:function(e){return e.toString().length<=1?"0"+e.toString():e.toString()},money:function(e){return e.toFixed(2).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}},computed:{calculatedExpireDate:function(){return this.counting.punishmentEnd=is()(Date.parse(this.counting.punishmentEnd)/1e3),this.counting.punishmentEnd},expireSeconds:function(){return(this.calculatedExpireDate-this.counting.now)%60},expireMinutes:function(){return is()((this.calculatedExpireDate-this.counting.now)/60)%60},expireHours:function(){return is()((this.calculatedExpireDate-this.counting.now)/60/60)%24},expireDays:function(){return is()((this.calculatedExpireDate-this.counting.now)/60/60/24)},firstTime:function(){var e=localStorage.getItem("firstTimeUCP");return"true"===e||null===e}},methods:{checkUserAccountStatus:function(){var e=this.user.forumAtt.attributes.suspendUntil;if(this.user.forumAtt.attributes.isActivated){if(this.userActivatedStatus=1,this.counting.punishmentEnd=this.user.forumAtt.attributes.suspendUntil,e)if(this.expireDays<=0&&this.expireHours<=0&&this.expireMinutes<=0&&this.expireMinutes<=0&&this.expireSeconds<=0)this.userActivatedStatus=1;else{var t=new Date(e),s=(new Date).getFullYear()-t.getFullYear();s<0&&(s*=-1);var a=s<10;this.userActivatedStatus=a?2:3,this.getPunishmentData()}}else this.userActivatedStatus=0},getPunishmentData:function(){var e=new Date;this.punishment.admin="Los",this.punishment.date=X()(e).format("L"),this.punishment.time=X()(e).format("LT"),this.punishment.reason="Drive-by"},getUserAvatar:function(){null!=this.user.forumAtt.attributes.avatarUrl&&(this.userAvatar=this.user.forumAtt.attributes.avatarUrl)},getNeededExp:function(e){return 8+4*(e-1)},getExpPercent:function(e,t){return(t/this.getNeededExp(e)*100).toFixed()},getUserChars:function(){var e=this;h(this.user.username).then(function(t){e.chars=t.data}).catch(function(e){console.log(e)})}},mounted:function(){var e=this;this.getUserAvatar(),this.checkUserAccountStatus(),this.getUserChars(),o.watch(function(e){return o.getters.getUserData},function(t,s){e.user=o.state.user}),window.setInterval(function(){e.counting.now=is()((new Date).getTime()/1e3)},1e3),null==this.user.token?this.userLoggedIn=!1:this.userLoggedIn=!0;var t=localStorage.getItem("firstTimeUCP");"true"===t||null===t?(this.firstTime=!0,localStorage.setItem("firstTimeUCP",!0)):this.firstTime=!1,this.$root.$on("hideFirstTimeTut",function(t){e.firstTime=t})},components:{firsttime:s("VU/8")(vs,_s,!1,null,null,null).exports,FontAwesomeLayers:fe.FontAwesomeLayers,userAvatar:ae,userContent:Mt}},hs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"page__ucp--index"},[e.firstTime?s("firsttime"):s("b-row",{staticClass:"ucp"},[s("b-col",{staticClass:"ucp__column--left",attrs:{md:"8",sm:"12"}},[s("b-row",[s("b-col",{staticClass:"ucp__block ucp__block--profile",attrs:{md:"12"}},[s("h4",{staticClass:"ucp__block__desc ucp__block--profile__desc"},[e._v("Seu perfil")]),e._v(" "),s("div",{staticClass:"ucp__block__content"},[s("userAvatar",{attrs:{url:e.user.forumAtt.attributes.avatarUrl,username:e.user.username,mobSize:"80px",editable:""}}),e._v(" "),s("userContent",{attrs:{user:e.user}}),e._v(" "),s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/ucp/perfil",exact:""}},[e._v("Ver perfil completo")])],1)]),e._v(" "),s("div",{staticClass:"ucp__divider"},[s("h3",{staticClass:"ucp__divider__title"},[e._v("Seus personagens")])]),e._v(" "),s("b-col",{staticClass:"ucp__block__character",attrs:{md:"12"}},[e.chars.length>1?s("swiper",{staticClass:"ucp__block__character-swiper",attrs:{options:e.swiperOption}},[e._l(e.chars,function(t){return s("swiper-slide",{key:t.id,staticClass:"char__wrapper--item"},[s("b-col",{staticClass:"ucp__block",attrs:{md:"12","offset-md":"1"}},[s("span",{staticClass:"character__id"},[e._v("ID "+e._s(t.player_id))]),e._v(" "),s("div",{staticClass:"character__level"},[s("span",{staticClass:"label"},[e._v(e._s(t.level))])]),e._v(" "),s("div",{staticClass:"character__info"},[s("h4",{staticClass:"title"},[e._v(e._s(t.name))]),e._v(" "),s("h6",{staticClass:"text"},[e._v(e._s(t.job))]),e._v(" "),s("h6",{staticClass:"text"},[e._v("Última localização: "+e._s(t.logoutArea))])]),e._v(" "),s("div",{staticClass:"character__stats"},[s("ul",{staticClass:"stats__list"},[s("li",{staticClass:"item",class:{"item--positive":t.cash>0,"item--negative":t.cash<0}},[s("span",{staticClass:"icon"},[s("icon",{attrs:{icon:["fas","dollar-sign"]}})],1),e._v(" "+e._s(e._f("money")(t.cash)))])])]),e._v(" "),s("div",{staticClass:"character__exp"},[s("span",{staticClass:"character__exp__current"},[e._v("Próximo level "+e._s(t.level+1))]),e._v(" "),s("span",{staticClass:"character__exp__needed"},[e._v("XP "),s("b",[e._v(e._s(t.xp)+"/"+e._s(e.getNeededExp(t.level)))])]),e._v(" "),s("b-progress",{attrs:{max:e.getNeededExp(t.level)}},[s("b-progress-bar",{attrs:{value:t.xp}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.getExpPercent(t.level,t.xp))+"%\n\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)])],1)}),e._v(" "),s("div",{staticClass:"ucp__block__character-swiper__pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):0==e.chars.length?s("b-col",{staticClass:"ucp__block ucp__block--empty",attrs:{md:"12","offset-md":"1"}},[s("div",{staticClass:"char__icon"},[s("font-awesome-layers",[s("icon",{attrs:{icon:["fas","street-view"]}}),e._v(" "),s("icon",{attrs:{icon:["fas","plus"],transform:"shrink-12 right-5 up-9"}})],1)],1),e._v(" "),s("span",{staticClass:"char__text"},[e._v("Sem personagens")])]):1==e.chars.length?e._l(e.chars,function(t){return s("b-col",{key:t.id,staticClass:"ucp__block ucp__block--single",attrs:{md:"12","offset-md":"1"}},[s("span",{staticClass:"character__id"},[e._v("ID "+e._s(t.player_id))]),e._v(" "),s("div",{staticClass:"character__level"},[s("span",{staticClass:"label"},[e._v(e._s(t.level))])]),e._v(" "),s("div",{staticClass:"character__info"},[s("h4",{staticClass:"title"},[e._v(e._s(t.name))]),e._v(" "),s("h6",{staticClass:"text"},[e._v(e._s(t.job))]),e._v(" "),s("h6",{staticClass:"text"},[e._v("Última localização: "+e._s(t.logoutArea))])]),e._v(" "),s("div",{staticClass:"character__stats"},[s("ul",{staticClass:"stats__list"},[s("li",{staticClass:"item",class:{"item--positive":t.cash>0,"item--negative":t.cash<0}},[s("span",{staticClass:"icon"},[s("icon",{attrs:{icon:["fas","dollar-sign"]}})],1),e._v(" "+e._s(e._f("money")(t.cash)))])])]),e._v(" "),s("div",{staticClass:"character__exp"},[s("span",{staticClass:"character__exp__current"},[e._v("Próximo level "+e._s(t.level+1))]),e._v(" "),s("span",{staticClass:"character__exp__needed"},[e._v("XP "),s("b",[e._v(e._s(t.xp)+"/"+e._s(e.getNeededExp(t.level)))])]),e._v(" "),s("b-progress",{attrs:{max:e.getNeededExp(t.level)}},[s("b-progress-bar",{attrs:{value:t.xp}},[e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(e.getExpPercent(t.level,t.xp))+"%\n\t\t\t\t\t\t\t\t\t")])],1)],1)])}):e._e(),e._v(" "),e.chars.length>1?s("div",{staticClass:"ucp__block__character-swiper__arrow ucp__block__character-swiper__arrow--prev"},[s("icon",{attrs:{icon:["fas","angle-left"]}})],1):e._e(),e._v(" "),e.chars.length>1?s("div",{staticClass:"ucp__block__character-swiper__arrow ucp__block__character-swiper__arrow--next"},[s("icon",{attrs:{icon:["fas","angle-right"]}})],1):e._e()],2)],1)],1),e._v(" "),s("b-col",{staticClass:"ucp__column--right",attrs:{md:"3"}},[s("b-row",[e.userActivatedStatus>=2?s("b-col",{staticClass:"ucp__block ucp__block--punishment",class:{tempbanned:2==e.userActivatedStatus,permbanned:3==e.userActivatedStatus},attrs:{md:"12"}},[s("h4",{staticClass:"ucp__block__desc ucp__block--punishment__desc"},[e._v("Punição")]),e._v(" "),s("ul",{staticClass:"ucp__block__content"},[s("b",[e._v(e._s(this.user.forumAtt.attributes.username))]),e._v(", você possui uma punição ativa no momento. "),s("br"),e._v("Veja maiores detalhes abaixo:\n\t\t\t\t\t\t\t"),s("ul",{staticClass:"ucp__block--punishment__info"},[s("li",{staticClass:"punishment__item"},[e._v("\n\t\t\t\t\t\t\t\t\tAdministrador resp. \n\t\t\t\t\t\t\t\t\t"),s("span",{staticClass:"punishment__item__desc"},[s("router-link",{attrs:{to:{name:"user",params:{username:e.punishment.admin}}}},[s("b",[e._v(e._s(e.punishment.admin))])])],1)]),e._v(" "),s("li",{staticClass:"punishment__item"},[e._v("Data "),s("span",{staticClass:"punishment__item__desc"},[e._v(e._s(e.punishment.date))])]),e._v(" "),s("li",{staticClass:"punishment__item"},[e._v("Hora "),s("span",{staticClass:"punishment__item__desc"},[e._v(e._s(e.punishment.time))])]),e._v(" "),s("li",{staticClass:"punishment__item"},[e._v("Motivo "),s("span",{staticClass:"punishment__item__desc"},[e._v(e._s(e.punishment.reason))])]),e._v(" "),2==e.userActivatedStatus?s("li",{staticClass:"punishment__item punishment__item--expires"},[e._v("\n\t\t\t\t\t\t\t\t\tExpira em\n\t\t\t\t\t\t\t\t\t"),s("span",{staticClass:"punishment__item__desc"},[e.expireDays>0?s("span",[e._v(e._s(e._f("twoDigits")(e.expireDays))+"d")]):e._e(),e._v(" "),e.expireHours>0?s("span",[e._v(e._s(e._f("twoDigits")(e.expireHours))+"h")]):e._e(),e._v(" "),e.expireMinutes>0?s("span",[e._v(e._s(e._f("twoDigits")(e.expireMinutes))+"m")]):e._e(),e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(e._f("twoDigits")(e.expireSeconds))+"s\n\t\t\t\t\t\t\t\t\t")])]):e._e()])])]):e._e(),e._v(" "),s("b-col",{staticClass:"ucp__block ucp__block--account",attrs:{md:"12"}},[s("h4",{staticClass:"ucp__block__desc"},[e._v("Sua conta")]),e._v(" "),s("ul",{staticClass:"ucp__block__content"},[s("li",{staticClass:"account__item"},[e._v("\n\t\t\t\t\t\t\t\tStatus atual \n\t\t\t\t\t\t\t\t"),s("span",{staticClass:"account__item__stats",class:{deactivated:0==e.userActivatedStatus,normal:1==e.userActivatedStatus,tempbanned:2==e.userActivatedStatus,permbanned:3==e.userActivatedStatus}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e._f("userAccountStatusText")(e.userActivatedStatus))+"\n\t\t\t\t\t\t\t\t")])]),e._v(" "),s("li",{staticClass:"account__item"},[e._v("Punições no histórico "),s("span",{staticClass:"account__item__stats"},[e._v("0")])]),e._v(" "),s("li",{staticClass:"account__item"},[e._v("Tempo total jogando "),s("span",{staticClass:"account__item__stats"},[e._v("0h")])]),e._v(" "),s("li",{staticClass:"account__item"},[e._v("Membro desde "),s("span",{staticClass:"account__item__stats"},[e._v(e._s(e._f("normalDateFilter")(this.user.forumAtt.attributes.joinTime)))])])])]),e._v(" "),s("b-col",{staticClass:"ucp__block",attrs:{md:"12"}},[s("h4",{staticClass:"ucp__block__desc"},[e._v("Log administrativo")]),e._v(" "),s("ul",{staticClass:"ucp__block__content"},[s("li",{staticClass:"log__item"},[e._v("Não há logs disponíveis.")])])])],1)],1)],1)],1)},staticRenderFns:[]},gs=s("VU/8")(ps,hs,!1,null,null,null).exports,fs=s("fZjL"),bs=s.n(fs),Cs={data:function(){return{user:o.state.user,userLoggedIn:null,newEmail:"",oldPassword:"",newPassword:"",confPassword:"",newUsername:"",emailChecking:!1,passChecking:!1,usernameChecking:!1,loadingEmail:!1,loadingPassword:!1,loadingUsername:!1,errorEmail:null,errorPassword:null,errorNewPassword:null,errorUsername:null,emailChanged:!1,passwordChanged:!1,usernameChanged:!1}},methods:{checkUsername:function(){var e=this;this.fields.$userScope.username.changed&&this.fields.$userScope.username.valid&&(this.usernameChecking=!0,this.user.username===this.newUsername.toLowerCase()?(this.errorUsername="O seu novo username precisa ser diferente do antigo.",this.usernameChecking=!1):p().then(function(t){for(var s=0;s<t.data.length;s++){if(t.data[s].username==e.newUsername.toLowerCase()){e.errorUsername="Esse username já está em uso",e.usernameChecking=!1;break}e.errorUsername=!1,e.usernameChecking=!1}}))},checkEmail:function(){var e=this;this.fields.$emailScope.email.changed&&this.fields.$emailScope.email.valid&&(this.emailChecking=!0,p().then(function(t){for(var s=0;s<t.data.length;s++){if(t.data[s].email==e.newEmail){e.errorEmail="Esse e-mail já está em uso",e.emailChecking=!1;break}e.errorEmail=!1,e.emailChecking=!1}}))},checkPassword:function(){if(this.fields.$passScope.oldPassword.changed&&this.fields.$passScope.oldPassword.valid){this.passChecking=!0;var e=this;y(this.user.username,this.oldPassword).then(function(t){e.user.token=t.data.token,o.dispatch("setData",e.user).then(function(){e.errorPassword=!1,e.passChecking=!1})}).catch(function(t){e.errorPassword=t.response.data.error.message,e.passChecking=!1})}else this.passChecking=!1;this.oldPassword===this.newPassword?this.errorNewPassword="A senha nova precisa ser diferente da antiga.":this.errorNewPassword=!1},changeEmail:function(){var e=this;this.loadingEmail=!0,this.checkEmail(),this.errorEmail||b(this.user.username,this.newEmail).then(function(t){e.user.token=t.data.token,e.updateUserForumData("email")}).catch(function(t){console.log(t),e.loadingEmail=!1})},changePassword:function(){var e=this;this.loadingPassword=!0,this.checkPassword(),this.errorPassword||this.errorNewPassword||C(this.user.username,this.newPassword).then(function(t){e.user.token=t.data.token,e.updateUserForumData("password")}).catch(function(t){console.log(t),e.loadingPassword=!1})},changeUsername:function(){var e=this;this.loadingUsername=!0,this.checkUsername(),this.errorUsername||w(this.user.username,this.newUsername).then(function(t){e.user.username=e.newUsername.toLowerCase(),e.user.token=t.data.token,e.updateUserForumData("username")}).catch(function(t){console.log(t),e.loadingUsername=!1})},updateUserForumData:function(e){var t=this,s={};"email"==e?s={attributes:{email:this.newEmail}}:"username"==e?s={attributes:{username:this.newUsername}}:"password"==e&&(s={attributes:{password:this.newPassword}}),I(this.user.forumAtt.id,s).then(function(s){t.user.forumAtt=s.data.data,"email"==e?(t.user.email=t.newEmail,t.emailChanged=!0,t.newEmail=""):"username"==e?(t.user.username=t.newUsername,t.user.forumAtt.attributes.username=t.newUsername,t.usernameChanged=!0,t.newUsername=""):"password"==e&&(t.passwordChanged=!0,t.oldPassword="",t.newPassword="",t.confPassword=""),o.dispatch("setData",t.user).then(function(){t.loadingEmail=!1,t.loadingPassword=!1,t.loadingUsername=!1})}).catch(function(e){console.log(e),this.loadingEmail=!1,this.loadingPassword=!1,this.loadingUsername=!1})}},computed:{isFormDirty:function(){var e=this;return bs()(this.fields).some(function(t){return e.fields[t].dirty})},isFormPristine:function(){var e=this;return bs()(this.fields).every(function(t){return e.fields[t].pristine})},isFormValid:function(){var e=this;return bs()(this.fields).every(function(t){return e.fields[t].valid})},isFormInvalid:function(){var e=this;return bs()(this.fields).some(function(t){return e.fields[t].invalid})},isFormTouched:function(){var e=this;return bs()(this.fields).some(function(t){return e.fields[t].touched})},isFormUntouched:function(){var e=this;return bs()(this.fields).every(function(t){return e.fields[t].untouched})}},watch:{user:{handler:function(e,t){null==this.user.token?this.userLoggedIn=!1:this.userLoggedIn=!0},deep:!0},newEmail:function(){this.emailChanged&&this.newEmail.length>0&&(this.emailChanged=!1)},oldPassword:function(){this.passwordChanged&&this.oldPassword.length>0&&(this.passwordChanged=!1)},newPassword:function(){this.passwordChanged&&this.newPassword.length>0&&(this.passwordChanged=!1)},confPassword:function(){this.passwordChanged&&this.confPassword.length>0&&(this.passwordChanged=!1)},newUsername:function(){this.usernameChanged&&this.newUsername.length>0&&(this.usernameChanged=!1)}},mounted:function(){null==this.user.token?this.userLoggedIn=!1:this.userLoggedIn=!0,"true"===localStorage.getItem("firstTimeUCP")&&this.$router.push(this.$route.query.redirect||"/ucp")},components:{beatloader:V,moonloader:d}},ws={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"page__ucp--settings"},[s("b-row",[s("b-card",{staticClass:"col-12 card--bordered"},[s("div",{staticClass:"card__icon"},[s("icon",{attrs:{icon:["fas","info-circle"]}})],1),e._v("\n\t\t\tNo UCP não é possível alterar configurações de privacidade do Fórum. Utilize a "),s("a",{attrs:{href:"https://forum.pc-rpg.com.br/settings",target:"_blank"}},[e._v("página de configurações")]),e._v(" da sua conta do Fórum para isto.\n\t\t")])],1),e._v(" "),s("b-row",{attrs:{"align-h":"between"}},[s("b-col",{staticClass:"setting__block",attrs:{md:"3",sm:"12"}},[s("h3",{staticClass:"setting__block__title"},[e._v("Alterar e-mail")]),e._v(" "),s("p",{staticClass:"setting__block__text"},[e._v("Você pode alterar os seus dados de acesso sempre que quiser. Lembre-se de ter sempre um email válido, pois é ele que você vai utilizar para validar qualquer operação importante no servidor.")]),e._v(" "),s("form",{staticClass:"form--small",on:{submit:function(t){t.preventDefault(),e.changeEmail()}}},[s("b-form-group",{attrs:{label:"Email atual:"}},[s("b-form-input",{attrs:{type:"email",value:e.user.forumAtt.attributes.email,name:"oldEmail",disabled:""}})],1),e._v(" "),s("b-form-group",[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"email",expression:"'email'"}],class:{"is-invalid":e.errors.has("emailScope.email")||e.errorEmail,"is-valid":!e.errors.has("emailScope.email")&&0!=e.newEmail.length&&!e.errorEmail},attrs:{type:"email",placeholder:"E-mail novo","data-vv-scope":"emailScope",name:"email",state:null,autocomplete:"off",disabled:e.emailChecking},on:{change:function(t){e.checkEmail()}},model:{value:e.newEmail,callback:function(t){e.newEmail=t},expression:"newEmail"}}),e._v(" "),s("beatloader",{staticClass:"input-spinner",attrs:{loading:e.emailChecking,color:"#303846",size:"5px"}}),e._v(" "),s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("emailScope.email"))+" "),e.errorEmail?s("span",[e._v(e._s(e.errorEmail))]):e._e()])],1),e._v(" "),s("b-form-group",[s("b-button",{class:{"btn-success":e.emailChanged,"btn-primary":!e.emailChanged},attrs:{type:"submit",disabled:e.loadingEmail||e.errors.has("emailScope.email")||0===e.newEmail.length||e.emailChecking||e.errorEmail,block:""}},[s("transition",{attrs:{name:"fade"}},[e.emailChanged?s("span",[e._v("E-mail alterado! "),s("icon",{staticClass:"icon",attrs:{icon:["fas","check-circle"]}})],1):s("span",[e._v("Alterar e-mail")])]),e._v(" "),s("moonloader",{attrs:{loading:e.loadingEmail,color:"#303846",size:"25px"}})],1)],1)],1)]),e._v(" "),s("b-col",{staticClass:"setting__block",attrs:{md:"5",sm:"12"}},[s("h3",{staticClass:"setting__block__title"},[e._v("Alterar senha")]),e._v(" "),s("p",{staticClass:"setting__block__text"},[e._v("Sua senha deve ser única e não pode ser compartilhada com terceiros. A equipe do PC:RPG nunca vai solicita-la para prestar qualquer tipo de suporte. Você é o único responsável por ela, é possível recuperá-la através do seu e-mail.")]),e._v(" "),s("form",{staticClass:"form--small",on:{submit:function(t){t.preventDefault(),e.changePassword()}}},[s("b-form-group",[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"min:8",expression:"'min:8'"}],class:{"is-invalid":e.errors.has("passScope.oldPassword")||e.errorPassword,"is-valid":!e.errors.has("passScope.oldPassword")&&0!=e.oldPassword.length&&!e.errorPassword},attrs:{type:"password",placeholder:"Senha atual",name:"oldPassword","data-vv-scope":"passScope",state:null,autocomplete:"on"},on:{change:function(t){e.checkPassword()}},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),e._v(" "),s("beatloader",{staticClass:"input-spinner",attrs:{loading:e.passChecking,color:"#303846",size:"5px"}}),e._v(" "),s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("passScope.oldPassword"))+" "+e._s(e.errorPassword))])],1),e._v(" "),s("b-form-group",[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"min:8|confirmed:confPassword",expression:"'min:8|confirmed:confPassword'"}],class:{"is-invalid":e.errors.has("passScope.newPassword")||e.errorNewPassword,"is-valid":!e.errors.has("passScope.newPassword")&&0!=e.newPassword.length&&!e.errorNewPassword},attrs:{type:"password",placeholder:"Nova senha",name:"newPassword","data-vv-scope":"passScope",state:null,autocomplete:"on"},on:{change:function(t){e.checkPassword()}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),e._v(" "),s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("passScope.newPassword")))]),e._v(" "),e.errorNewPassword?s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errorNewPassword))]):e._e()],1),e._v(" "),s("b-form-group",[s("b-form-input",{class:{"is-invalid":e.errors.has("passScope.newPassword"),"is-valid":!e.errors.has("passScope.newPassword")&&0!=e.confPassword.length},attrs:{type:"password",placeholder:"Confirmar nova senha",name:"confPassword","data-vv-scope":"passScope",state:null,autocomplete:"on"},on:{change:function(t){e.checkPassword()}},model:{value:e.confPassword,callback:function(t){e.confPassword=t},expression:"confPassword"}})],1),e._v(" "),s("b-form-group",[s("b-button",{class:{"btn-success":e.passwordChanged,"btn-primary":!e.passwordChanged},attrs:{type:"submit",disabled:e.errors.has("passScope.oldPassword")||e.errors.has("passScope.newPassword")||e.errors.has("passScope.confPassword")||0===e.newPassword.length||0===e.oldPassword.length||e.passChecking||e.errorPassword||e.errorNewPassword||e.loadingPassword,block:""}},[s("transition",{attrs:{name:"fade"}},[e.passwordChanged?s("span",[e._v("Senha alterada! "),s("icon",{staticClass:"icon",attrs:{icon:["fas","check-circle"]}})],1):s("span",[e._v("Alterar senha")])]),e._v(" "),s("moonloader",{attrs:{loading:e.loadingPassword,color:"#303846",size:"25px"}})],1)],1)],1)]),e._v(" "),s("b-col",{staticClass:"setting__block",attrs:{md:"3",sm:"12"}},[s("h3",{staticClass:"setting__block__title"},[e._v("Alterar apelido")]),e._v(" "),s("p",{staticClass:"setting__block__text"},[e._v("Seu apelido é único e é como você gostaria de ser chamado fora do jogo, também é o seu login para autenticar-se. Lembre-se de respeitar a política de apelidos que encontra-se nas "),s("a",{attrs:{href:"#",target:"_blank"}},[e._v("regras")]),e._v(".")]),e._v(" "),s("form",{staticClass:"form--small",on:{submit:function(t){t.preventDefault(),e.changeUsername()}}},[s("b-form-group",{attrs:{label:"Apelido atual:"}},[s("b-form-input",{attrs:{type:"text",value:e.user.forumAtt.attributes.username,disabled:""}})],1),e._v(" "),s("b-form-group",[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{regex:/^[a-zA-Z0-9]+([_-]?[a-zA-Z0-9])*$/,min:5,max:15},expression:"{ regex: /^[a-zA-Z0-9]+([_-]?[a-zA-Z0-9])*$/ , min: 5, max: 15 }"}],class:{"is-invalid":e.errors.has("userScope.username")||e.errorUsername,"is-valid":!e.errors.has("userScope.username")&&0!=e.newUsername.length&&!e.errorUsername},attrs:{type:"text",placeholder:"Novo apelido",name:"username","data-vv-scope":"userScope",state:null,autocomplete:"off",disabled:e.usernameChecking},on:{change:function(t){e.checkUsername()}},model:{value:e.newUsername,callback:function(t){e.newUsername=t},expression:"newUsername"}}),e._v(" "),s("beatloader",{staticClass:"input-spinner",attrs:{loading:e.usernameChecking,color:"#303846",size:"5px"}}),e._v(" "),s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("userScope.username")))]),e._v(" "),e.errorUsername?s("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errorUsername))]):e._e()],1),e._v(" "),s("b-form-group",[s("b-button",{class:{"btn-success":e.usernameChanged,"btn-primary":!e.usernameChanged},attrs:{type:"submit",disabled:e.loadingUsername||e.errors.has("userScope.username")||0===e.newUsername.length||e.errorUsername||e.usernameChecking,block:""}},[s("transition",{attrs:{name:"fade"}},[e.usernameChanged?s("span",[e._v("Apelido alterado! "),s("icon",{staticClass:"icon",attrs:{icon:["fas","check-circle"]}})],1):s("span",[e._v("Alterar apelido")])]),e._v(" "),s("moonloader",{attrs:{loading:e.loadingUsername,color:"#303846",size:"25px"}})],1)],1)],1)])],1)],1)},staticRenderFns:[]},ks=s("VU/8")(Cs,ws,!1,null,null,null).exports,ys={data:function(){return{user:o.state.user,userLoggedIn:null}},mounted:function(){for(var e in this.user.forumAtt.included)"groups"==this.user.forumAtt.included[e].type&&this.groups.push(this.user.forumAtt.included[e].attributes);"true"===localStorage.getItem("firstTimeUCP")&&this.$router.push(this.$route.query.redirect||"/ucp")},components:{playerProfile:Xt}},xs={render:function(){var e=this.$createElement;return(this._self._c||e)("playerProfile",{attrs:{user:this.user}})},staticRenderFns:[]};var Us=s("VU/8")(ys,xs,!1,function(e){s("41pB")},null,null).exports,Ss={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view")},staticRenderFns:[]},Ps=s("VU/8")({},Ss,!1,null,null,null).exports,Es={props:{msg:Object},data:function(){return{sender:{avatar:null,username:null}}},filters:{moment:function(e){return X()(e).fromNow()}},methods:{openMessage:function(e){this.$router.push(this.$route.query.redirect||"mensagens/ver/"+e._id)},openMobMessage:function(e){window.innerWidth<767&&this.$router.push(this.$route.query.redirect||"mensagens/ver/"+e._id)}},mounted:function(){var e=this;j(this.msg.sender.username).then(function(t){e.sender.username=t.data.data.attributes.username,e.sender.avatar=t.data.data.attributes.avatarUrl})},components:{userAvatar:ae}},As={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message",class:{"message--unreaded":!e.msg.isRead,"message--selected":e.msg.selected},attrs:{"data-msgid":e.msg._id},on:{dblclick:function(t){e.openMessage(e.msg)},click:function(t){e.openMobMessage(e.msg)}}},[s("div",{staticClass:"avatar"},[s("userAvatar",{attrs:{url:e.sender.avatar,username:e.sender.username,size:"60px",mobSize:"62px"}})],1),e._v(" "),s("div",{staticClass:"content"},[s("h5",{staticClass:"title"},[e._v(e._s(e.msg.subject))]),e._v(" "),s("span",{staticClass:"info"},[e._v("Enviado por "),s("b",[e._v(e._s(e.sender.username))]),e._v(" "+e._s(e._f("moment")(e.msg.sendDate))+" atrás.")])])])},staticRenderFns:[]},js=s("VU/8")(Es,As,!1,null,null,null).exports,Ls={props:{messages:Array,clickable:Boolean},data:function(){return{selected:{},clickDisabled:!1,paginate:["messages"]}},methods:{getSelectedElements:function(e){if(e.target.classList.contains("message")&&this.clickable){e.target.classList.contains("message--selected")?e.target.classList.remove("message--selected"):e.target.classList.add("message--selected");var t=document.getElementsByClassName("message--selected");this.selected=[];for(var s=0;s<t.length;s++)this.selected.push(t[s].dataset.msgid)}},confirmDelete:function(){var e=this;1==confirm("Você tem certeza que deseja deletar? A mensagem será movida para a pasta lixeira.")&&me(this.selected).then(function(t){e.$router.push(e.$route.query.redirect||"/ucp/mensagens"),e.$root.$emit("reloadInbox")}).catch(function(e){console.log(e.response)})}},components:{message:js}},Ns={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"messaging__list"},[e.messages.length>0?s("div",[s("paginate",{staticClass:"list",attrs:{name:"messages",list:e.messages,per:5}},e._l(e.paginated("messages"),function(t,a){return s("li",{key:a,on:{click:e.getSelectedElements}},[s("message",{attrs:{msg:t}})],1)})),e._v(" "),s("paginate-links",{attrs:{for:"messages","show-step-links":!0,"hide-single-page":!0}})],1):s("div",{staticClass:"empty"},[s("h3",[e._v("Nenhuma mensagem encontrada")])]),e._v(" "),e.selected.length>=1?s("b-button",{staticClass:"deleteMessagesBtn",attrs:{variant:"danger"},on:{click:function(t){e.confirmDelete()}}},[s("icon",{attrs:{icon:["fas","trash-alt"]}}),e._v(" Deletar "+e._s(e.selected.length)+" "),1==e.selected.length?s("span",[e._v("mensagem")]):s("span",[e._v("mensagens")])],1):e._e()],1)},staticRenderFns:[]},Fs={data:function(){return{user:o.state.user,messages:[],messagesClickable:!0,btnActivated:1,loading:!0}},computed:{sortedInOutMessages:function(){return this.messages.sort(function(e,t){return new Date(t.sendDate).getTime()-new Date(e.sendDate).getTime()})},sortedTrashMessages:function(){return this.messages.sort(function(e,t){return new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()})},isMobile:function(){return window.innerWidth<768}},methods:{getInbox:function(){var e=this;this.btnActivated=1,this.loading=!0,this.messages=[],le(this.user.username).then(function(t){e.messages=t.data,e.messagesClickable=!0,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})},getOutbox:function(){var e=this;this.btnActivated=2,this.loading=!0,this.messages=[],ce(this.user.username).then(function(t){e.messages=t.data,e.messagesClickable=!0,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})},getTrashbox:function(){var e=this;this.btnActivated=3,this.loading=!0,this.messages=[],ue(this.user.username).then(function(t){e.messages=t.data,e.messagesClickable=!1,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1})}},mounted:function(){var e=this;le(this.user.username).then(function(t){e.messages=t.data,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1});var t=this;this.$root.$on("reloadInbox",function(){t.getInbox()}),"true"===localStorage.getItem("firstTimeUCP")&&this.$router.push(this.$route.query.redirect||"/ucp")},components:{messagingList:s("VU/8")(Ls,Ns,!1,null,null,null).exports,loader:d}},Ms={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"page__ucp--messaging"},[s("b-row",[s("b-col",{staticClass:"column column--left",attrs:{md:"3",sm:"12"}},[s("div",{staticClass:"messaging__block"},[s("router-link",{staticClass:"router-link btn btn-primary btn-block",attrs:{to:"mensagens/nova",exact:""}},[e._v("Nova Mensagem")]),e._v(" "),s("ul",{staticClass:"messasing__menu"},[s("li",{staticClass:"menu__item",class:{"menu__item--active":1==e.btnActivated},on:{click:e.getInbox}},[e._v("Caixa de entrada")]),e._v(" "),s("li",{staticClass:"menu__item",class:{"menu__item--active":2==e.btnActivated},on:{click:e.getOutbox}},[e._v("Caixa de saída")]),e._v(" "),s("li",{staticClass:"menu__item",class:{"menu__item--active":3==e.btnActivated},on:{click:e.getTrashbox}},[e._v("Lixeira")])]),e._v(" "),e.isMobile?e._e():s("b-card",[s("ul",[s("li",[e._v("Para ler uma mensagem, basta dar "),s("b",[e._v("2 cliques")]),e._v(" na mensagem desejada.")]),e._v(" "),s("li",[e._v("Para deletar uma ou mais mensagens, basta dar "),s("b",[e._v("1 clique")]),e._v(" na mensagem desejada e clicar em deletar")])])])],1)]),e._v(" "),s("b-col",{staticClass:"column column--right",attrs:{md:"9",sm:"12"}},[s("loader",{attrs:{loading:e.loading,color:"#303846",size:"60px"}}),e._v(" "),e.loading||1!=e.btnActivated&&2!=e.btnActivated?e._e():s("messagingList",{attrs:{messages:e.sortedInOutMessages,clickable:e.messagesClickable}}),e._v(" "),e.loading||3!=e.btnActivated?e._e():s("messagingList",{attrs:{messages:e.sortedTrashMessages,clickable:e.messagesClickable}})],1)],1)],1)},staticRenderFns:[]};var Is=s("VU/8")(Fs,Ms,!1,function(e){s("HVox")},"data-v-59f18b56",null).exports,Ds=s("EFqf"),$s=s.n(Ds),zs={data:function(){return{user:o.state.user,userAvatar:null,userName:null,message:[],quote:null,loading:!0}},mounted:function(){var e=this;"true"===localStorage.getItem("firstTimeUCP")&&this.$router.push(this.$route.query.redirect||"/ucp");for(var t=document.getElementsByClassName("show"),s=0;s<t.length;s++)t[s].classList.remove("show");oe(this.$route.params.msgid).then(function(t){e.message=t.data,j(e.message.sender.username).then(function(t){e.userAvatar=t.data.data.attributes.avatarUrl,e.userName=t.data.data.attributes.username}),e.message.reply&&oe(e.message.reply).then(function(t){e.quote=t.data}),e.message.receiver.username==e.user.username?e.markAsRead(e.message._id):(e.loading=!1,e.$root.$emit("refreshNotReadedMessages"))}).catch(function(t){console.log(t),e.loading=!1})},computed:{marked:function(){return $s()(this.message.body,{sanitize:!0})},oldMarked:function(){return $s()(this.quote.body,{sanitize:!0})},isMobile:function(){return window.innerWidth<768}},methods:{confirmDelete:function(){var e=this;if(1==confirm("Você tem certeza que deseja deletar esta mensagem? A mensagem será movida para a pasta lixeira.")){var t=[];t.push(this.message._id),me(t).then(function(t){e.$router.push(e.$route.query.redirect||"/ucp/mensagens")}).catch(function(e){console.log(e.response)})}},markAsRead:function(e){var t=this;de(e).then(function(e){t.loading=!1,t.$root.$emit("refreshNotReadedMessages")}).catch(function(e){console.log(e)})}},filters:{moment:function(e){return X()(e).fromNow()}},components:{loader:d,userAvatar:ae}},Ts={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"page__ucp--message-details"},[s("loader",{attrs:{loading:e.loading,color:"#303846",size:"60px"}}),e._v(" "),e.loading?e._e():s("b-row",{staticClass:"message"},[s("b-col",{staticClass:"message__buttons",attrs:{md:"12",sm:"12"}},[s("router-link",{staticClass:"router-link btn btn-secondary btn-back",attrs:{to:"/ucp/mensagens"}},[e.isMobile?s("span",[s("icon",{attrs:{icon:["fas","angle-left"]}})],1):s("span",[e._v("Voltar para as mensagens")])]),e._v(" "),s("div",{staticClass:"right"},[s("b-btn-group",[s("b-button",{attrs:{variant:"secondary"},on:{click:function(t){e.confirmDelete()}}},[s("icon",{attrs:{icon:["fas","trash-alt"]}}),e.isMobile?e._e():s("span",[e._v(" Deletar")])],1)],1),e._v(" "),s("router-link",{staticClass:"router-link btn btn-primary",attrs:{to:"/ucp/mensagens/responder/"+e.message._id}},[e._v("Responder")])],1)],1),e._v(" "),s("b-col",{staticClass:"message__block",attrs:{md:"12",sm:"12"}},[s("div",{staticClass:"message__header"},[s("div",{staticClass:"avatar"},[s("userAvatar",{attrs:{size:"70px",url:e.userAvatar,username:e.userName,clickable:""}})],1),e._v(" "),s("div",{staticClass:"details"},[s("h3",{staticClass:"title"},[e._v(e._s(e.message.subject))]),e._v(" "),s("span",{staticClass:"info"},[e._v("Enviado por "),s("b",[s("router-link",{staticClass:"router-link",attrs:{to:"/jogador/"+e.userName}},[s("b",[e._v(e._s(e.userName))])])],1),e._v(" "+e._s(e._f("moment")(e.message.sendDate))+" atrás.")])])]),e._v(" "),s("div",{staticClass:"message__content"},[e.quote?s("div",{staticClass:"oldmessage"},[e.quote.sender.username==e.user.username?s("span",[e._v("Em resposta a sua mensagem anterior:")]):s("span",[e._v("Em resposta a mensagem de "+e._s(e.quote.sender.username)+":")]),e._v(" "),s("div",{staticClass:"quote"},[s("span",{staticClass:"title"},[e._v(e._s(e.quote.subject))]),e._v(" "),s("div",{staticClass:"markdown",domProps:{innerHTML:e._s(e.oldMarked)}})])]):e._e(),e._v(" "),s("hr",{staticClass:"oldmessage__separator"}),e._v(" "),s("div",{staticClass:"current__message markdown",domProps:{innerHTML:e._s(e.marked)}})])])],1)],1)},staticRenderFns:[]};var Rs,Vs=s("VU/8")(zs,Ts,!1,function(e){s("SSQl")},"data-v-33e5dd28",null).exports,qs=s("bOdI"),Os=s.n(qs),Bs=s("aatO"),Hs=(Rs={render:function(e){},data:function(){var e=this;return{user:o.state.user,mensagem:"",assunto:"",dest:"",sendingMessage:!1,errorUser:null,timeout:null,debounceMilliseconds:50,suggestions:[],sugProps:{id:"autocomp",onInputChange:this.getData,placeholder:"Destinatário",name:"destinatario",disabled:this.sendingMessage},sugSecConfigs:{users:{limit:3,label:"Usuários",onSelected:function(t){e.errorUser=null,e.dest=t.item.username}},groups:{limit:3,label:"Grupos",onSelected:function(t){e.selected=t.item}}}}},computed:{marked:function(){return $s()(this.mensagem,{sanitize:!0})}},methods:{SendMessage:function(){var e=this;this.sendingMessage=!0,this.$route.params.username?ne(this.user.username,this.dest,this.assunto,this.mensagem).then(function(t){e.sendingMessage=!1,e.$router.push(e.$route.query.redirect||"/ucp/mensagens"),e.$notify({group:"main",title:"Mensagem enviada com sucesso!",text:"Você deve receber uma notificação assim que sua mensagem for respondida.",type:"success",duration:5e3})}).catch(function(e){console.log(e)}):this.dest.toLowerCase()===this.user.username.toLowerCase()?(this.errorUser="Você não pode enviar mensagem para você mesmo.",this.sendingMessage=!1):g(this.dest).then(function(t){null===t?(e.errorUser="Usuário não existe.",e.sendingMessage=!1):ne(e.user.username,e.dest,e.assunto,e.mensagem).then(function(t){e.sendingMessage=!1,e.$router.push(e.$route.query.redirect||"/ucp/mensagens"),e.$notify({group:"main",title:"Mensagem enviada com sucesso!",text:"Você deve receber uma notificação assim que sua mensagem for respondida.",type:"success",duration:5e3})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},getData:function(e){var t=this;this.errorUser&&(this.errorUser=null),this.dest=e,clearTimeout(this.timeout),this.timeout=setTimeout(function(){L().then(function(s){t.suggestions=[],t.selected=null;var a=s.data.data,r=[];for(var n in a)r.push(a[n].attributes);var i=t.filterResults(r,e,"username");i.length&&t.suggestions.push({name:"users",data:i})})},this.debounceMilliseconds)},filterResults:function(e,t,s){var a=this;return e.filter(function(e){if(e[s].toLowerCase().indexOf(t.toLowerCase())>-1)return a.errorUser=null,e[s];a.errorUser="Usuário não existe."}).sort()},sugRendering:function(e){return"users"==e.name?e.item.username:e.item.namePlural},sugValue:function(e){var t=e.name,s=e.item;return"users"==t?s.username:s.namePlural}}},Os()(Rs,"render",function(e){return e("div",[e("img",{class:{avatar:!0},attrs:{src:suggestion.item.avatarUrl}}),suggestion.item.username])}),Os()(Rs,"mounted",function(){var e=this;o.watch(function(e){return o.getters.getUserData},function(t,s){e.user=o.state.user}),this.$route.params.username&&j(this.$route.params.username).then(function(t){e.dest=t.data.data.attributes.username}),console.log(this.dest)}),Os()(Rs,"components",{moonloader:d,VueAutosuggest:Bs.a}),Rs),Ws={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page__ucp--message-new"},[s("b-form",{staticClass:"new_message",on:{submit:function(t){return t.preventDefault(),e.SendMessage(t)}}},[s("div",{staticClass:"preview markdown",domProps:{innerHTML:e._s(e.marked)}}),e._v(" "),s("div",{staticClass:"inputs"},[s("b-form-group",[e._v("\n\t\t\t\tDestinatário: "),s("router-link",{staticClass:"router-link",attrs:{to:"/jogador/"+e.dest}},[s("b",[e._v(e._s(e.dest))])])],1),e._v(" "),s("b-form-group",[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"min:8",expression:"'min:8'"}],class:{"is-invalid":e.errors.has("assunto")},attrs:{type:"text",name:"assunto",placeholder:"Assunto da mensagem",disabled:e.sendingMessage},model:{value:e.assunto,callback:function(t){e.assunto=t},expression:"assunto"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("assunto"),expression:"errors.has('assunto')"}],staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("assunto")))])],1),e._v(" "),this.$route.params.username?e._e():s("b-form-group",[s("vue-autosuggest",{class:{"is-invalid":e.errorUser},attrs:{suggestions:e.suggestions,inputProps:e.sugProps,sectionConfigs:e.sugSecConfigs,renderSuggestion:e.sugRendering,getSuggestionValue:e.sugValue}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errorUser,expression:"errorUser"}],staticClass:"invalid-feedback"},[e._v(e._s(e.errorUser))])],1),e._v(" "),s("b-form-group",{attrs:{description:"Você pode utilizar <a href='http://commonmark.org/help/' target='_blank'>Markdown</a> para formatar o seu texto"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mensagem,expression:"mensagem"},{name:"validate",rawName:"v-validate",value:"min:10",expression:"'min:10'"}],class:{"is-invalid":e.errors.has("mensagem")},attrs:{placeholder:"Escreva aqui",name:"mensagem",disabled:e.sendingMessage},domProps:{value:e.mensagem},on:{input:function(t){t.target.composing||(e.mensagem=t.target.value)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("mensagem"),expression:"errors.has('mensagem')"}],staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("mensagem")))])]),e._v(" "),s("b-form-group",[s("router-link",{staticClass:"router-link btn btn-secondary",attrs:{to:"/ucp/mensagens"}},[e._v("Cancelar")]),e._v(" "),s("b-button",{attrs:{variant:"primary",type:"submit",disabled:e.sendingMessage||e.errors.has("mensagem")||e.errors.has("assunto")||0===e.mensagem.length||0===e.assunto.length||e.errorUser}},[e._v("\n\t\t\t\t\tEnviar\n\t\t\t\t\t"),s("moonloader",{attrs:{loading:e.sendingMessage,color:"#303846",size:"25px"}})],1)],1)],1)])],1)},staticRenderFns:[]},Gs=s("VU/8")(Hs,Ws,!1,null,null,null).exports,Zs={data:function(){return{user:o.state.user,mensagem:"",sendingMessage:!1,originalMessage:"",originalPoster:"",originalTitle:""}},computed:{marked:function(){return $s()(this.mensagem,{sanitize:!0})},oldMarked:function(){return $s()(this.originalMessage,{sanitize:!0})}},methods:{SendMessage:function(){var e=this;this.sendingMessage=!0;var t=this.originalTitle.replace("Re: ","");ie(this.user.username,this.originalPoster,"Re: "+t,this.mensagem,this.$route.params.msgid).then(function(t){e.sendingMessage=!1,e.$router.push(e.$route.query.redirect||"/ucp/mensagens/ver/"+t.data.message),e.$notify({group:"main",title:"Mensagem respondida com sucesso!",text:"Você deve receber uma notificação assim que sua mensagem for respondida.",type:"success",duration:5e3})}).catch(function(e){console.log(e)})}},mounted:function(){var e=this;o.watch(function(e){return o.getters.getUserData},function(t,s){e.user=o.state.user}),oe(this.$route.params.msgid).then(function(t){e.originalPoster=t.data.sender.username,e.originalTitle=t.data.subject,e.originalMessage=t.data.body})},components:{moonloader:d,VueAutosuggest:Bs.a}},Js={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page__ucp--message-new"},[s("b-form",{staticClass:"new_message",on:{submit:function(t){return t.preventDefault(),e.SendMessage(t)}}},[s("div",{staticClass:"oldmessage"},[s("span",{staticClass:"message__info"},[e._v(e._s(e.originalPoster)+" escreveu:")]),e._v(" "),s("span",{staticClass:"title"},[e._v(e._s(e.originalTitle))]),e._v(" "),s("div",{staticClass:"markdown",domProps:{innerHTML:e._s(e.oldMarked)}})]),e._v(" "),s("div",{staticClass:"preview markdown",domProps:{innerHTML:e._s(e.marked)}}),e._v(" "),s("div",{staticClass:"inputs"},[s("b-form-group",{attrs:{description:"Você pode utilizar <a href='http://commonmark.org/help/' target='_blank'>Markdown</a> para formatar o seu texto"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mensagem,expression:"mensagem"},{name:"validate",rawName:"v-validate",value:"min:10",expression:"'min:10'"}],class:{"is-invalid":e.errors.has("mensagem")},attrs:{placeholder:"Escreva aqui",name:"mensagem",disabled:e.sendingMessage},domProps:{value:e.mensagem},on:{input:function(t){t.target.composing||(e.mensagem=t.target.value)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("mensagem"),expression:"errors.has('mensagem')"}],staticClass:"invalid-feedback"},[e._v(e._s(e.errors.first("mensagem")))])]),e._v(" "),s("b-form-group",[s("router-link",{staticClass:"router-link btn btn-secondary",attrs:{to:"/ucp/mensagens"}},[e._v("Cancelar")]),e._v(" "),s("b-button",{attrs:{variant:"primary",type:"submit",disabled:e.sendingMessage||e.errors.has("mensagem")||0===e.mensagem.length}},[e._v("\n\t\t\t\t\t\tEnviar\n\t\t\t\t\t\t"),s("moonloader",{attrs:{loading:e.sendingMessage,color:"#303846",size:"25px"}})],1)],1)],1)])],1)},staticRenderFns:[]},Xs=s("VU/8")(Zs,Js,!1,null,null,null).exports;a.default.use(Se.a);var Ks=new Se.a({routes:[{path:"/",name:"Início",component:_t},{path:"/dev",name:"Desenvolvimento",component:Pt},{path:"/ucp",component:rs,children:[{path:"",name:"UCP Index",component:gs},{path:"configuracoes",name:"Configurações",component:ks},{path:"mensagens",component:Ps,children:[{path:"",name:"Mensagens Index",component:Is},{path:"ver/:msgid",name:"Ver Mensagens",component:Vs},{path:"nova/:username?",name:"Nova Mensagem",component:Gs},{path:"responder/:msgid",name:"Responder Mensagem",component:Xs}]},{path:"perfil",name:"Perfil",component:Us}]},{path:"/jogador/:username",name:"Perfil Público",component:Qt},{path:"*",component:At}]}),Ys=s("e6fC"),Qs=s("UXTj"),ea=s.n(Qs),ta=s("9OOc"),sa=s.n(ta),aa=s("bm7V"),ra=s.n(aa),na=s("mjDs"),ia=s.n(na),oa=(s("bqTm"),s("/OX2")),la=s.n(oa),ca=s("sUu7"),ua=s("RAMx"),da=s.n(ua),ma=s("CLX7"),va=s.n(ma);ca.a.localize("pt_BR",da.a),a.default.router=Ks,a.default.use(ea.a),a.default.use(sa.a),a.default.use(ra.a),a.default.use(la.a),a.default.use(ca.b),a.default.use(Lt.a),a.default.use(va.a),a.default.use(Ys.a);var _a=s("PJh5");s("AoDM"),a.default.use(ia.a,{locale:_a}),a.default.component("icon",fe.FontAwesomeIcon),a.default.config.productionTip=!1,a.default.use(ra.a,{container:"body",duration:500,easing:"ease",offset:-100,cancelable:!0,onDone:!1,onCancel:!1,x:!1,y:!0}),new a.default({el:"#app",router:Ks,store:{},template:"<App/>",components:{App:Ue}})},SIEV:function(e,t){},SSQl:function(e,t){},SU2O:function(e,t){},SYSC:function(e,t){},U0ZT:function(e,t){},W9wV:function(e,t){},dPqi:function(e,t){},e6AD:function(e,t){},fmdS:function(e,t){},lAYR:function(e,t){},lKBI:function(e,t){},lRDq:function(e,t){},nrri:function(e,t){},oPmM:function(e,t){},r15W:function(e,t,s){"use strict";var a=s("E9Zr").a;var r=s("VU/8")(a,null,!1,function(e){s("s91r")},null,null);t.a=r.exports},s7Aw:function(e,t){},s91r:function(e,t){},uslO:function(e,t,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function r(e){return s(n(e))}function n(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id="uslO"},uuFh:function(e,t){},v2ns:function(e,t){},xEse:function(e,t){},y17n:function(e,t,s){e.exports=s.p+"static/img/logo-text.ddbd411.png"}},["NHnr"]);